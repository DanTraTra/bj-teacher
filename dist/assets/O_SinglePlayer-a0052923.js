import{r as l,R as X,b as He,j as B,F as Vi,a as Ke,u as Bi}from"./index-2f659e46.js";import{I as zi,P as ji,a as $i,b as Ui,c as Hi,d as Ki,e as qi}from"./index-42a102e0.js";import{t as Wi}from"./test-utils-5cfa2880.js";const rn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ge(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Xn(e){return"nodeType"in e}function J(e){var t,n;return e?Ge(e)?e:Xn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Gn(e){const{Document:t}=J(e);return e instanceof t}function Rt(e){return Ge(e)?!1:e instanceof J(e).HTMLElement}function Cs(e){return e instanceof J(e).SVGElement}function Je(e){return e?Ge(e)?e.document:Xn(e)?Gn(e)?e:Rt(e)||Cs(e)?e.ownerDocument:document:document:document}const Me=rn?l.useLayoutEffect:l.useEffect;function Jn(e){const t=l.useRef(e);return Me(()=>{t.current=e}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Yi(){const e=l.useRef(null),t=l.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=l.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mt(e,t){t===void 0&&(t=[e]);const n=l.useRef(e);return Me(()=>{n.current!==e&&(n.current=e)},t),n}function Dt(e,t){const n=l.useRef();return l.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Wt(e){const t=Jn(e),n=l.useRef(null),r=l.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function kn(e){const t=l.useRef();return l.useEffect(()=>{t.current=e},[e]),t.current}let _n={};function sn(e,t){return l.useMemo(()=>{if(t)return t;const n=_n[e]==null?0:_n[e]+1;return _n[e]=n,e+"-"+n},[e,t])}function Ts(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[u,c]of a){const d=i[u];d!=null&&(i[u]=d+e*c)}return i},{...t})}}const qe=Ts(1),Yt=Ts(-1);function Qi(e){return"clientX"in e&&"clientY"in e}function Rs(e){if(!e)return!1;const{KeyboardEvent:t}=J(e.target);return t&&e instanceof t}function Xi(e){if(!e)return!1;const{TouchEvent:t}=J(e.target);return t&&e instanceof t}function On(e){if(Xi(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Qi(e)?{x:e.clientX,y:e.clientY}:null}const Mr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Gi(e){return e.matches(Mr)?e:e.querySelector(Mr)}const Ji={display:"none"};function Zi(e){let{id:t,value:n}=e;return X.createElement("div",{id:t,style:Ji},n)}function eo(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return X.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function to(){const[e,t]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Ds=l.createContext(null);function no(e){const t=l.useContext(Ds);l.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ro(){const[e]=l.useState(()=>new Set),t=l.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[l.useCallback(r=>{let{type:s,event:i}=r;e.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[e]),t]}const so={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},io={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function oo(e){let{announcements:t=io,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=so}=e;const{announce:i,announcement:o}=to(),a=sn("DndLiveRegion"),[u,c]=l.useState(!1);if(l.useEffect(()=>{c(!0)},[]),no(l.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:g}=f;t.onDragMove&&i(t.onDragMove({active:h,over:g}))},onDragOver(f){let{active:h,over:g}=f;i(t.onDragOver({active:h,over:g}))},onDragEnd(f){let{active:h,over:g}=f;i(t.onDragEnd({active:h,over:g}))},onDragCancel(f){let{active:h,over:g}=f;i(t.onDragCancel({active:h,over:g}))}}),[i,t])),!u)return null;const d=X.createElement(X.Fragment,null,X.createElement(Zi,{id:r,value:s.draggable}),X.createElement(eo,{id:a,announcement:o}));return n?He.createPortal(d,n):d}var W;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(W||(W={}));function Qt(){}function ao(e,t){return l.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function co(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ge=Object.freeze({x:0,y:0});function lo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function uo(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function fo(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-r,a=i-n;if(r<s&&n<i){const u=t.width*t.height,c=e.width*e.height,d=o*a,f=d/(u+c-d);return Number(f.toFixed(4))}return 0}const As=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const u=fo(a,t);u>0&&s.push({id:o,data:{droppableContainer:i,value:u}})}}return s.sort(lo)};function ho(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Is(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ge}function po(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const go=po(1);function mo(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function vo(e,t,n){const r=mo(t);if(!r)return e;const{scaleX:s,scaleY:i,x:o,y:a}=r,u=e.left-o-(1-s)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u}}const bo={ignoreTransform:!1};function At(e,t){t===void 0&&(t=bo);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=J(e).getComputedStyle(e);c&&(n=vo(n,c,d))}const{top:r,left:s,width:i,height:o,bottom:a,right:u}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:u}}function kr(e){return At(e,{ignoreTransform:!0})}function yo(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function wo(e,t){return t===void 0&&(t=J(e).getComputedStyle(e)),t.position==="fixed"}function _o(e,t){t===void 0&&(t=J(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Zn(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Gn(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Rt(s)||Cs(s)||n.includes(s))return n;const i=J(e).getComputedStyle(s);return s!==e&&_o(s,i)&&n.push(s),wo(s,i)?n:r(s.parentNode)}return e?r(e):n}function Ms(e){const[t]=Zn(e,1);return t??null}function Sn(e){return!rn||!e?null:Ge(e)?e:Xn(e)?Gn(e)||e===Je(e).scrollingElement?window:Rt(e)?e:null:null}function ks(e){return Ge(e)?e.scrollX:e.scrollLeft}function Os(e){return Ge(e)?e.scrollY:e.scrollTop}function Pn(e){return{x:ks(e),y:Os(e)}}var Y;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Y||(Y={}));function Ps(e){return!rn||!e?!1:e===document.scrollingElement}function Ls(e){const t={x:0,y:0},n=Ps(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const So={x:.2,y:.2};function Eo(e,t,n,r,s){let{top:i,left:o,right:a,bottom:u}=n;r===void 0&&(r=10),s===void 0&&(s=So);const{isTop:c,isBottom:d,isLeft:f,isRight:h}=Ls(e),g={x:0,y:0},S={x:0,y:0},p={height:t.height*s.y,width:t.width*s.x};return!c&&i<=t.top+p.height?(g.y=Y.Backward,S.y=r*Math.abs((t.top+p.height-i)/p.height)):!d&&u>=t.bottom-p.height&&(g.y=Y.Forward,S.y=r*Math.abs((t.bottom-p.height-u)/p.height)),!h&&a>=t.right-p.width?(g.x=Y.Forward,S.x=r*Math.abs((t.right-p.width-a)/p.width)):!f&&o<=t.left+p.width&&(g.x=Y.Backward,S.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:g,speed:S}}function xo(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Ns(e){return e.reduce((t,n)=>qe(t,Pn(n)),ge)}function Co(e){return e.reduce((t,n)=>t+ks(n),0)}function To(e){return e.reduce((t,n)=>t+Os(n),0)}function Ro(e,t){if(t===void 0&&(t=At),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);Ms(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Do=[["x",["left","right"],Co],["y",["top","bottom"],To]];class er{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zn(n),s=Ns(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Do)for(const u of o)Object.defineProperty(this,u,{get:()=>{const c=a(r),d=s[i]-c;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Ao(e){const{EventTarget:t}=J(e);return e instanceof t?e:Je(e)}function En(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var oe;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(oe||(oe={}));function Or(e){e.preventDefault()}function Io(e){e.stopPropagation()}var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})($||($={}));const Fs={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter]},Mo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $.Right:return{...n,x:n.x+25};case $.Left:return{...n,x:n.x-25};case $.Down:return{...n,y:n.y+25};case $.Up:return{...n,y:n.y-25}}};class Vs{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new lt(Je(n)),this.windowListeners=new lt(J(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(oe.Resize,this.handleCancel),this.windowListeners.add(oe.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(oe.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ro(r),n(ge)}handleKeyDown(t){if(Rs(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Fs,coordinateGetter:o=Mo,scrollBehavior:a="smooth"}=s,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:ge;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=Yt(f,d),g={x:0,y:0},{scrollableAncestors:S}=r.current;for(const p of S){const b=t.code,{isTop:y,isRight:E,isLeft:_,isBottom:R,maxScroll:A,minScroll:M}=Ls(p),D=xo(p),C={x:Math.min(b===$.Right?D.right-D.width/2:D.right,Math.max(b===$.Right?D.left:D.left+D.width/2,f.x)),y:Math.min(b===$.Down?D.bottom-D.height/2:D.bottom,Math.max(b===$.Down?D.top:D.top+D.height/2,f.y))},T=b===$.Right&&!E||b===$.Left&&!_,N=b===$.Down&&!R||b===$.Up&&!y;if(T&&C.x!==f.x){const O=p.scrollLeft+h.x,K=b===$.Right&&O<=A.x||b===$.Left&&O>=M.x;if(K&&!h.y){p.scrollTo({left:O,behavior:a});return}K?g.x=p.scrollLeft-O:g.x=b===$.Right?p.scrollLeft-A.x:p.scrollLeft-M.x,g.x&&p.scrollBy({left:-g.x,behavior:a});break}else if(N&&C.y!==f.y){const O=p.scrollTop+h.y,K=b===$.Down&&O<=A.y||b===$.Up&&O>=M.y;if(K&&!h.x){p.scrollTo({top:O,behavior:a});return}K?g.y=p.scrollTop-O:g.y=b===$.Down?p.scrollTop-A.y:p.scrollTop-M.y,g.y&&p.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(t,qe(Yt(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vs.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Fs,onActivation:s}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Pr(e){return!!(e&&"distance"in e)}function Lr(e){return!!(e&&"delay"in e)}class tr{constructor(t,n,r){var s;r===void 0&&(r=Ao(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=Je(o),this.documentListeners=new lt(this.document),this.listeners=new lt(r),this.windowListeners=new lt(J(o)),this.initialCoordinates=(s=On(i))!=null?s:ge,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(oe.Resize,this.handleCancel),this.windowListeners.add(oe.DragStart,Or),this.windowListeners.add(oe.VisibilityChange,this.handleCancel),this.windowListeners.add(oe.ContextMenu,Or),this.documentListeners.add(oe.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Lr(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Pr(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(oe.Click,Io,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(oe.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const u=(n=On(t))!=null?n:ge,c=Yt(s,u);if(!r&&a){if(Pr(a)){if(a.tolerance!=null&&En(c,a.tolerance))return this.handleCancel();if(En(c,a.distance))return this.handleStart()}return Lr(a)&&En(c,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===$.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ko={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class nr extends tr{constructor(t){const{event:n}=t,r=Je(n.target);super(t,ko,r)}}nr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Oo={move:{name:"mousemove"},end:{name:"mouseup"}};var Ln;(function(e){e[e.RightClick=2]="RightClick"})(Ln||(Ln={}));class Po extends tr{constructor(t){super(t,Oo,Je(t.event.target))}}Po.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Ln.RightClick?!1:(r==null||r({event:n}),!0)}}];const xn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Lo extends tr{constructor(t){super(t,xn)}static setup(){return window.addEventListener(xn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(xn.move.name,t)};function t(){}}}Lo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var ut;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ut||(ut={}));var Xt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xt||(Xt={}));function No(e){let{acceleration:t,activator:n=ut.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Xt.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:h}=e;const g=Vo({delta:f,disabled:!i}),[S,p]=Yi(),b=l.useRef({x:0,y:0}),y=l.useRef({x:0,y:0}),E=l.useMemo(()=>{switch(n){case ut.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case ut.DraggableRect:return s}},[n,s,u]),_=l.useRef(null),R=l.useCallback(()=>{const M=_.current;if(!M)return;const D=b.current.x*y.current.x,C=b.current.y*y.current.y;M.scrollBy(D,C)},[]),A=l.useMemo(()=>a===Xt.TreeOrder?[...c].reverse():c,[a,c]);l.useEffect(()=>{if(!i||!c.length||!E){p();return}for(const M of A){if((r==null?void 0:r(M))===!1)continue;const D=c.indexOf(M),C=d[D];if(!C)continue;const{direction:T,speed:N}=Eo(M,C,E,t,h);for(const O of["x","y"])g[O][T[O]]||(N[O]=0,T[O]=0);if(N.x>0||N.y>0){p(),_.current=M,S(R,o),b.current=N,y.current=T;return}}b.current={x:0,y:0},y.current={x:0,y:0},p()},[t,R,r,p,i,o,JSON.stringify(E),JSON.stringify(g),S,c,A,d,JSON.stringify(h)])}const Fo={x:{[Y.Backward]:!1,[Y.Forward]:!1},y:{[Y.Backward]:!1,[Y.Forward]:!1}};function Vo(e){let{delta:t,disabled:n}=e;const r=kn(t);return Dt(s=>{if(n||!r||!s)return Fo;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Y.Backward]:s.x[Y.Backward]||i.x===-1,[Y.Forward]:s.x[Y.Forward]||i.x===1},y:{[Y.Backward]:s.y[Y.Backward]||i.y===-1,[Y.Forward]:s.y[Y.Forward]||i.y===1}}},[n,t,r])}function Bo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Dt(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function zo(e,t){return l.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var vt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(vt||(vt={}));var Nn;(function(e){e.Optimized="optimized"})(Nn||(Nn={}));const Nr=new Map;function jo(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,o]=l.useState(null),{frequency:a,measure:u,strategy:c}=s,d=l.useRef(e),f=b(),h=mt(f),g=l.useCallback(function(y){y===void 0&&(y=[]),!h.current&&o(E=>E===null?y:E.concat(y.filter(_=>!E.includes(_))))},[h]),S=l.useRef(null),p=Dt(y=>{if(f&&!n)return Nr;if(!y||y===Nr||d.current!==e||i!=null){const E=new Map;for(let _ of e){if(!_)continue;if(i&&i.length>0&&!i.includes(_.id)&&_.rect.current){E.set(_.id,_.rect.current);continue}const R=_.node.current,A=R?new er(u(R),R):null;_.rect.current=A,A&&E.set(_.id,A)}return E}return y},[e,i,n,f,u]);return l.useEffect(()=>{d.current=e},[e]),l.useEffect(()=>{f||g()},[n,f]),l.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),l.useEffect(()=>{f||typeof a!="number"||S.current!==null||(S.current=setTimeout(()=>{g(),S.current=null},a))},[a,f,g,...r]),{droppableRects:p,measureDroppableContainers:g,measuringScheduled:i!=null};function b(){switch(c){case vt.Always:return!1;case vt.BeforeDragging:return n;default:return!n}}}function Bs(e,t){return Dt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function $o(e,t){return Bs(e,t)}function Uo(e){let{callback:t,disabled:n}=e;const r=Jn(t),s=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function on(e){let{callback:t,disabled:n}=e;const r=Jn(t),s=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Ho(e){return new er(At(e),e)}function Fr(e,t,n){t===void 0&&(t=Ho);const[r,s]=l.useState(null);function i(){s(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u??n)!=null?c:null}const d=t(e);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const o=Uo({callback(u){if(e)for(const c of u){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),a=on({callback:i});return Me(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function Ko(e){const t=Bs(e);return Is(e,t)}const Vr=[];function qo(e){const t=l.useRef(e),n=Dt(r=>e?r&&r!==Vr&&e&&t.current&&e.parentNode===t.current.parentNode?r:Zn(e):Vr,[e]);return l.useEffect(()=>{t.current=e},[e]),n}function Wo(e){const[t,n]=l.useState(null),r=l.useRef(e),s=l.useCallback(i=>{const o=Sn(i.target);o&&n(a=>a?(a.set(o,Pn(o)),new Map(a)):null)},[]);return l.useEffect(()=>{const i=r.current;if(e!==i){o(i);const a=e.map(u=>{const c=Sn(u);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,Pn(c)]):null}).filter(u=>u!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(u=>{const c=Sn(u);c==null||c.removeEventListener("scroll",s)})}},[s,e]),l.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>qe(i,o),ge):Ns(e):ge,[e,t])}function Br(e,t){t===void 0&&(t=[]);const n=l.useRef(null);return l.useEffect(()=>{n.current=null},t),l.useEffect(()=>{const r=e!==ge;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Yt(e,n.current):ge}function Yo(e){l.useEffect(()=>{if(!rn)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Qo(e,t){return l.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,t)},n},{}),[e,t])}function zs(e){return l.useMemo(()=>e?yo(e):null,[e])}const zr=[];function Xo(e,t){t===void 0&&(t=At);const[n]=e,r=zs(n?J(n):null),[s,i]=l.useState(zr);function o(){i(()=>e.length?e.map(u=>Ps(u)?r:new er(t(u),u)):zr)}const a=on({callback:o});return Me(()=>{a==null||a.disconnect(),o(),e.forEach(u=>a==null?void 0:a.observe(u))},[e]),s}function Go(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rt(t)?t:e}function Jo(e){let{measure:t}=e;const[n,r]=l.useState(null),s=l.useCallback(c=>{for(const{target:d}of c)if(Rt(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=on({callback:s}),o=l.useCallback(c=>{const d=Go(c);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,u]=Wt(o);return l.useMemo(()=>({nodeRef:a,rect:n,setRef:u}),[n,a,u])}const Zo=[{sensor:nr,options:{}},{sensor:Vs,options:{}}],ea={current:{}},Ut={draggable:{measure:kr},droppable:{measure:kr,strategy:vt.WhileDragging,frequency:Nn.Optimized},dragOverlay:{measure:At}};class dt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const ta={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ut,measureDroppableContainers:Qt,windowRect:null,measuringScheduled:!1},na={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qt,draggableNodes:new Map,over:null,measureDroppableContainers:Qt},an=l.createContext(na),ra=l.createContext(ta);function sa(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dt}}}function ia(e,t){switch(t.type){case W.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case W.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case W.DragEnd:case W.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case W.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new dt(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case W.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new dt(e.droppable.containers);return o.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case W.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new dt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function oa(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=l.useContext(an),i=kn(r),o=kn(n==null?void 0:n.id);return l.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!Rs(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:u,node:c}=a;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[u.current,c.current]){if(!d)continue;const f=Gi(d);if(f){f.focus();break}}})}},[r,t,s,o,i]),null}function aa(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function ca(e){return l.useMemo(()=>({draggable:{...Ut.draggable,...e==null?void 0:e.draggable},droppable:{...Ut.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ut.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function la(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=l.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Me(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=Is(d,r);if(o||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=Ms(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,a,r,n])}const js=l.createContext({...ge,scaleX:1,scaleY:1});var Re;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Re||(Re={}));const ua=l.memo(function(t){var n,r,s,i;let{id:o,accessibility:a,autoScroll:u=!0,children:c,sensors:d=Zo,collisionDetection:f=As,measuring:h,modifiers:g,...S}=t;const p=l.useReducer(ia,void 0,sa),[b,y]=p,[E,_]=ro(),[R,A]=l.useState(Re.Uninitialized),M=R===Re.Initialized,{draggable:{active:D,nodes:C,translate:T},droppable:{containers:N}}=b,O=D!=null?C.get(D):null,K=l.useRef({initial:null,translated:null}),m=l.useMemo(()=>{var Q;return D!=null?{id:D,data:(Q=O==null?void 0:O.data)!=null?Q:ea,rect:K}:null},[D,O]),w=l.useRef(null),[x,I]=l.useState(null),[P,L]=l.useState(null),V=mt(S,Object.values(S)),j=sn("DndDescribedBy",o),z=l.useMemo(()=>N.getEnabled(),[N]),Z=ca(h),{droppableRects:se,measureDroppableContainers:ve,measuringScheduled:Se}=jo(z,{dragging:M,dependencies:[T.x,T.y],config:Z.droppable}),ue=Bo(C,D),br=l.useMemo(()=>P?On(P):null,[P]),yr=Fi(),wr=$o(ue,Z.draggable.measure);la({activeNode:D!=null?C.get(D):null,config:yr.layoutShiftCompensation,initialRect:wr,measure:Z.draggable.measure});const de=Fr(ue,Z.draggable.measure,wr),vn=Fr(ue?ue.parentElement:null),ke=l.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_r=N.getNodeFor((n=ke.current.over)==null?void 0:n.id),Oe=Jo({measure:Z.dragOverlay.measure}),Lt=(r=Oe.nodeRef.current)!=null?r:ue,Fe=M?(s=Oe.rect)!=null?s:de:null,Sr=!!(Oe.nodeRef.current&&Oe.rect),Er=Ko(Sr?null:de),bn=zs(Lt?J(Lt):null),Ee=qo(M?_r??ue:null),Nt=Xo(Ee),Ft=aa(g,{transform:{x:T.x-Er.x,y:T.y-Er.y,scaleX:1,scaleY:1},activatorEvent:P,active:m,activeNodeRect:de,containerNodeRect:vn,draggingNodeRect:Fe,over:ke.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:Ee,scrollableAncestorRects:Nt,windowRect:bn}),xr=br?qe(br,T):null,Cr=Wo(Ee),Ii=Br(Cr),Mi=Br(Cr,[de]),Ve=qe(Ft,Ii),Be=Fe?go(Fe,Ft):null,et=m&&Be?f({active:m,collisionRect:Be,droppableRects:se,droppableContainers:z,pointerCoordinates:xr}):null,Tr=uo(et,"id"),[xe,Rr]=l.useState(null),ki=Sr?Ft:qe(Ft,Mi),Oi=ho(ki,(i=xe==null?void 0:xe.rect)!=null?i:null,de),yn=l.useRef(null),Dr=l.useCallback((Q,ee)=>{let{sensor:te,options:Ce}=ee;if(w.current==null)return;const ie=C.get(w.current);if(!ie)return;const ne=Q.nativeEvent,be=new te({active:w.current,activeNode:ie,event:ne,options:Ce,context:ke,onStart(fe){const tt=w.current;if(tt==null)return;const nt=C.get(tt);if(!nt)return;const{onDragStart:Vt}=V.current,Bt={activatorEvent:ne,active:{id:tt,data:nt.data,rect:K}};He.unstable_batchedUpdates(()=>{Vt==null||Vt(Bt),A(Re.Initializing),y({type:W.DragStart,initialCoordinates:fe,active:tt}),E({type:"onDragStart",event:Bt}),I(yn.current),L(ne)})},onMove(fe){y({type:W.DragMove,coordinates:fe})},onEnd:ze(W.DragEnd),onCancel:ze(W.DragCancel)});yn.current=be;function ze(fe){return async function(){const{active:nt,collisions:Vt,over:Bt,scrollAdjustedTranslate:Ir}=ke.current;let rt=null;if(nt&&Ir){const{cancelDrop:st}=V.current;rt={activatorEvent:ne,active:nt,collisions:Vt,delta:Ir,over:Bt},fe===W.DragEnd&&typeof st=="function"&&await Promise.resolve(st(rt))&&(fe=W.DragCancel)}w.current=null,He.unstable_batchedUpdates(()=>{y({type:fe}),A(Re.Uninitialized),Rr(null),I(null),L(null),yn.current=null;const st=fe===W.DragEnd?"onDragEnd":"onDragCancel";if(rt){const wn=V.current[st];wn==null||wn(rt),E({type:st,event:rt})}})}}},[C]),Pi=l.useCallback((Q,ee)=>(te,Ce)=>{const ie=te.nativeEvent,ne=C.get(Ce);if(w.current!==null||!ne||ie.dndKit||ie.defaultPrevented)return;const be={active:ne};Q(te,ee.options,be)===!0&&(ie.dndKit={capturedBy:ee.sensor},w.current=Ce,Dr(te,ee))},[C,Dr]),Ar=zo(d,Pi);Yo(d),Me(()=>{de&&R===Re.Initializing&&A(Re.Initialized)},[de,R]),l.useEffect(()=>{const{onDragMove:Q}=V.current,{active:ee,activatorEvent:te,collisions:Ce,over:ie}=ke.current;if(!ee||!te)return;const ne={active:ee,activatorEvent:te,collisions:Ce,delta:{x:Ve.x,y:Ve.y},over:ie};He.unstable_batchedUpdates(()=>{Q==null||Q(ne),E({type:"onDragMove",event:ne})})},[Ve.x,Ve.y]),l.useEffect(()=>{const{active:Q,activatorEvent:ee,collisions:te,droppableContainers:Ce,scrollAdjustedTranslate:ie}=ke.current;if(!Q||w.current==null||!ee||!ie)return;const{onDragOver:ne}=V.current,be=Ce.get(Tr),ze=be&&be.rect.current?{id:be.id,rect:be.rect.current,data:be.data,disabled:be.disabled}:null,fe={active:Q,activatorEvent:ee,collisions:te,delta:{x:ie.x,y:ie.y},over:ze};He.unstable_batchedUpdates(()=>{Rr(ze),ne==null||ne(fe),E({type:"onDragOver",event:fe})})},[Tr]),Me(()=>{ke.current={activatorEvent:P,active:m,activeNode:ue,collisionRect:Be,collisions:et,droppableRects:se,draggableNodes:C,draggingNode:Lt,draggingNodeRect:Fe,droppableContainers:N,over:xe,scrollableAncestors:Ee,scrollAdjustedTranslate:Ve},K.current={initial:Fe,translated:Be}},[m,ue,et,Be,C,Lt,Fe,se,N,xe,Ee,Ve]),No({...yr,delta:T,draggingRect:Be,pointerCoordinates:xr,scrollableAncestors:Ee,scrollableAncestorRects:Nt});const Li=l.useMemo(()=>({active:m,activeNode:ue,activeNodeRect:de,activatorEvent:P,collisions:et,containerNodeRect:vn,dragOverlay:Oe,draggableNodes:C,droppableContainers:N,droppableRects:se,over:xe,measureDroppableContainers:ve,scrollableAncestors:Ee,scrollableAncestorRects:Nt,measuringConfiguration:Z,measuringScheduled:Se,windowRect:bn}),[m,ue,de,P,et,vn,Oe,C,N,se,xe,ve,Ee,Nt,Z,Se,bn]),Ni=l.useMemo(()=>({activatorEvent:P,activators:Ar,active:m,activeNodeRect:de,ariaDescribedById:{draggable:j},dispatch:y,draggableNodes:C,over:xe,measureDroppableContainers:ve}),[P,Ar,m,de,y,j,C,xe,ve]);return X.createElement(Ds.Provider,{value:_},X.createElement(an.Provider,{value:Ni},X.createElement(ra.Provider,{value:Li},X.createElement(js.Provider,{value:Oi},c)),X.createElement(oa,{disabled:(a==null?void 0:a.restoreFocus)===!1})),X.createElement(oo,{...a,hiddenTextDescribedById:j}));function Fi(){const Q=(x==null?void 0:x.autoScrollEnabled)===!1,ee=typeof u=="object"?u.enabled===!1:u===!1,te=M&&!Q&&!ee;return typeof u=="object"?{...u,enabled:te}:{enabled:te}}}),da=l.createContext(null),jr="button",fa="Draggable";function ha(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=sn(fa),{activators:o,activatorEvent:a,active:u,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:h}=l.useContext(an),{role:g=jr,roleDescription:S="draggable",tabIndex:p=0}=s??{},b=(u==null?void 0:u.id)===t,y=l.useContext(b?js:da),[E,_]=Wt(),[R,A]=Wt(),M=Qo(o,t),D=mt(n);Me(()=>(f.set(t,{id:t,key:i,node:E,activatorNode:R,data:D}),()=>{const T=f.get(t);T&&T.key===i&&f.delete(t)}),[f,t]);const C=l.useMemo(()=>({role:g,tabIndex:p,"aria-disabled":r,"aria-pressed":b&&g===jr?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[r,g,p,b,S,d.draggable]);return{active:u,activatorEvent:a,activeNodeRect:c,attributes:C,isDragging:b,listeners:r?void 0:M,node:E,over:h,setNodeRef:_,setActivatorNodeRef:A,transform:y}}const pa="Droppable",ga={timeout:25};function Fn(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=sn(pa),{active:o,dispatch:a,over:u,measureDroppableContainers:c}=l.useContext(an),d=l.useRef({disabled:n}),f=l.useRef(!1),h=l.useRef(null),g=l.useRef(null),{disabled:S,updateMeasurementsFor:p,timeout:b}={...ga,...s},y=mt(p??r),E=l.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),g.current=null},b)},[b]),_=on({callback:E,disabled:S||!o}),R=l.useCallback((C,T)=>{_&&(T&&(_.unobserve(T),f.current=!1),C&&_.observe(C))},[_]),[A,M]=Wt(R),D=mt(t);return l.useEffect(()=>{!_||!A.current||(_.disconnect(),f.current=!1,_.observe(A.current))},[A,_]),l.useEffect(()=>(a({type:W.RegisterDroppable,element:{id:r,key:i,disabled:n,node:A,rect:h,data:D}}),()=>a({type:W.UnregisterDroppable,key:i,id:r})),[r]),l.useEffect(()=>{n!==d.current.disabled&&(a({type:W.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:o,rect:h,isOver:(u==null?void 0:u.id)===r,node:A,over:u,setNodeRef:M}}const $s=({id:e,onGridTile:t,letter:n,row:r,col:s,visible:i,selected:o,pale:a,xState:u,draggable:c})=>{const[d,f]=l.useState(i);l.useState({x:0,y:0}),l.useState(!1);const{attributes:h,listeners:g,setNodeRef:S,transform:p}=ha({id:e}),b={transform:p?`translate3d(${p.x}px, ${p.y}px, 0)`:void 0,touchAction:"none"};return B(Vi,{children:n&&B("button",{ref:S,style:b,...g,...h,className:"absolute w-10 h-10 text-black flex items-center justify-center rounded shadow-md cursor-pointer",children:B("div",{className:`flex justify-center items-center size-10 rounded-lg hover:text-black
                        ${d?"":"is-flipped"} 
                        ${a?"opacity-50":"opacity-100"} 
                        ${o?"outline btn-outline":""}`,children:Ke("div",{className:"",children:[B("div",{className:"relative size-10 bg-white rounded-lg flex items-center justify-center overflow-hidden",children:n}),u&&B("div",{className:"absolute top-0 right-0 opacity-80",children:B(zi,{color:"grey",size:"24px",className:"-m-1.5"})})]})})})})};var rr=Mt(),k=e=>It(e,rr),sr=Mt();k.write=e=>It(e,sr);var cn=Mt();k.onStart=e=>It(e,cn);var ir=Mt();k.onFrame=e=>It(e,ir);var or=Mt();k.onFinish=e=>It(e,or);var We=[];k.setTimeout=(e,t)=>{const n=k.now()+t,r=()=>{const i=We.findIndex(o=>o.cancel==r);~i&&We.splice(i,1),Ae-=~i?1:0},s={time:n,handler:e,cancel:r};return We.splice(Us(n),0,s),Ae+=1,Hs(),s};var Us=e=>~(~We.findIndex(t=>t.time>e)||~We.length);k.cancel=e=>{cn.delete(e),ir.delete(e),or.delete(e),rr.delete(e),sr.delete(e)};k.sync=e=>{Vn=!0,k.batchedUpdates(e),Vn=!1};k.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,k.onStart(n)}return r.handler=e,r.cancel=()=>{cn.delete(n),t=null},r};var ar=typeof window<"u"?window.requestAnimationFrame:()=>{};k.use=e=>ar=e;k.now=typeof performance<"u"?()=>performance.now():Date.now;k.batchedUpdates=e=>e();k.catch=console.error;k.frameLoop="always";k.advance=()=>{k.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):qs()};var De=-1,Ae=0,Vn=!1;function It(e,t){Vn?(t.delete(e),e(0)):(t.add(e),Hs())}function Hs(){De<0&&(De=0,k.frameLoop!=="demand"&&ar(Ks))}function ma(){De=-1}function Ks(){~De&&(ar(Ks),k.batchedUpdates(qs))}function qs(){const e=De;De=k.now();const t=Us(De);if(t&&(Ws(We.splice(0,t),n=>n.handler()),Ae-=t),!Ae){ma();return}cn.flush(),rr.flush(e?Math.min(64,De-e):16.667),ir.flush(),sr.flush(),or.flush()}function Mt(){let e=new Set,t=e;return{add(n){Ae+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Ae-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Ae-=t.size,Ws(t,r=>r(n)&&e.add(r)),Ae+=e.size,t=e)}}}function Ws(e,t){e.forEach(n=>{try{t(n)}catch(r){k.catch(r)}})}var va=Object.defineProperty,ba=(e,t)=>{for(var n in t)va(e,n,{get:t[n],enumerable:!0})},me={};ba(me,{assign:()=>wa,colors:()=>Ie,createStringInterpolator:()=>lr,skipAnimation:()=>Qs,to:()=>Ys,willAdvance:()=>ur});function Bn(){}var ya=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),v={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function _e(e,t){if(v.arr(e)){if(!v.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var F=(e,t)=>e.forEach(t);function we(e,t,n){if(v.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var re=e=>v.und(e)?[]:v.arr(e)?e:[e];function ft(e,t){if(e.size){const n=Array.from(e);e.clear(),F(n,t)}}var ct=(e,...t)=>ft(e,n=>n(...t)),cr=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lr,Ys,Ie=null,Qs=!1,ur=Bn,wa=e=>{e.to&&(Ys=e.to),e.now&&(k.now=e.now),e.colors!==void 0&&(Ie=e.colors),e.skipAnimation!=null&&(Qs=e.skipAnimation),e.createStringInterpolator&&(lr=e.createStringInterpolator),e.requestAnimationFrame&&k.use(e.requestAnimationFrame),e.batchedUpdates&&(k.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ur=e.willAdvance),e.frameLoop&&(k.frameLoop=e.frameLoop)},ht=new Set,le=[],Cn=[],Gt=0,ln={get idle(){return!ht.size&&!le.length},start(e){Gt>e.priority?(ht.add(e),k.onStart(_a)):(Xs(e),k(zn))},advance:zn,sort(e){if(Gt)k.onFrame(()=>ln.sort(e));else{const t=le.indexOf(e);~t&&(le.splice(t,1),Gs(e))}},clear(){le=[],ht.clear()}};function _a(){ht.forEach(Xs),ht.clear(),k(zn)}function Xs(e){le.includes(e)||Gs(e)}function Gs(e){le.splice(Sa(le,t=>t.priority>e.priority),0,e)}function zn(e){const t=Cn;for(let n=0;n<le.length;n++){const r=le[n];Gt=r.priority,r.idle||(ur(r),r.advance(e),r.idle||t.push(r))}return Gt=0,Cn=le,Cn.length=0,le=t,le.length>0}function Sa(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Ea=(e,t,n)=>Math.min(Math.max(n,e),t),xa={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},pe="[-+]?\\d*\\.?\\d+",Jt=pe+"%";function un(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Ca=new RegExp("rgb"+un(pe,pe,pe)),Ta=new RegExp("rgba"+un(pe,pe,pe,pe)),Ra=new RegExp("hsl"+un(pe,Jt,Jt)),Da=new RegExp("hsla"+un(pe,Jt,Jt,pe)),Aa=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ia=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ma=/^#([0-9a-fA-F]{6})$/,ka=/^#([0-9a-fA-F]{8})$/;function Oa(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Ma.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ie&&Ie[e]!==void 0?Ie[e]:(t=Ca.exec(e))?(je(t[1])<<24|je(t[2])<<16|je(t[3])<<8|255)>>>0:(t=Ta.exec(e))?(je(t[1])<<24|je(t[2])<<16|je(t[3])<<8|Hr(t[4]))>>>0:(t=Aa.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ka.exec(e))?parseInt(t[1],16)>>>0:(t=Ia.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Ra.exec(e))?($r(Ur(t[1]),zt(t[2]),zt(t[3]))|255)>>>0:(t=Da.exec(e))?($r(Ur(t[1]),zt(t[2]),zt(t[3]))|Hr(t[4]))>>>0:null}function Tn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $r(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=Tn(s,r,e+1/3),o=Tn(s,r,e),a=Tn(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function je(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Ur(e){return(parseFloat(e)%360+360)%360/360}function Hr(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function zt(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Kr(e){let t=Oa(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var bt=(e,t,n)=>{if(v.fun(e))return e;if(v.arr(e))return bt({range:e,output:t,extrapolate:n});if(v.str(e.output[0]))return lr(e);const r=e,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(c=>c);return c=>{const d=La(c,i);return Pa(c,i[d],i[d+1],s[d],s[d+1],u,o,a,r.map)}};function Pa(e,t,n,r,s,i,o,a,u){let c=u?u(e):e;if(c<t){if(o==="identity")return c;o==="clamp"&&(c=t)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=i(c),r===-1/0?c=-c:s===1/0?c=c+r:c=c*(s-r)+r,c)}function La(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Na=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return Ea(0,1,s/e)},Zt=1.70158,jt=Zt*1.525,qr=Zt+1,Wr=2*Math.PI/3,Yr=2*Math.PI/4.5,$t=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Fa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>qr*e*e*e-Zt*e*e,easeOutBack:e=>1+qr*Math.pow(e-1,3)+Zt*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((jt+1)*2*e-jt)/2:(Math.pow(2*e-2,2)*((jt+1)*(e*2-2)+jt)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*Wr),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*Wr)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Yr))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Yr)/2+1,easeInBounce:e=>1-$t(1-e),easeOutBounce:$t,easeInOutBounce:e=>e<.5?(1-$t(1-2*e))/2:(1+$t(2*e-1))/2,steps:Na},yt=Symbol.for("FluidValue.get"),Qe=Symbol.for("FluidValue.observers"),ae=e=>!!(e&&e[yt]),G=e=>e&&e[yt]?e[yt]():e,Qr=e=>e[Qe]||null;function Va(e,t){e.eventObserved?e.eventObserved(t):e(t)}function wt(e,t){const n=e[Qe];n&&n.forEach(r=>{Va(r,t)})}var Js=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Ba(this,e)}},Ba=(e,t)=>Zs(e,yt,t);function Ze(e,t){if(e[yt]){let n=e[Qe];n||Zs(e,Qe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function _t(e,t){const n=e[Qe];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Qe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Zs=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Ht=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,za=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Xr=new RegExp(`(${Ht.source})(%|[a-z]+)`,"i"),ja=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,dn=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ei=e=>{const[t,n]=$a(e);if(!t||cr())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&dn.test(n))return ei(n);if(n)return n}return e},$a=e=>{const t=dn.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Rn,Ua=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,ti=e=>{Rn||(Rn=Ie?new RegExp(`(${Object.keys(Ie).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>G(i).replace(dn,ei).replace(za,Kr).replace(Rn,Kr)),n=t.map(i=>i.match(Ht).map(Number)),s=n[0].map((i,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(i=>bt({...e,output:i}));return i=>{var u;const o=!Xr.test(t[0])&&((u=t.find(c=>Xr.test(c)))==null?void 0:u.replace(Ht,""));let a=0;return t[0].replace(Ht,()=>`${s[a++](i)}${o||""}`).replace(ja,Ua)}},dr="react-spring: ",ni=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${dr}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Ha=ni(console.warn);function Ka(){Ha(`${dr}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var qa=ni(console.warn);function Wa(){qa(`${dr}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function fn(e){return v.str(e)&&(e[0]=="#"||/\d/.test(e)||!cr()&&dn.test(e)||e in(Ie||{}))}var fr=cr()?l.useEffect:l.useLayoutEffect,Ya=()=>{const e=l.useRef(!1);return fr(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function ri(){const e=l.useState()[1],t=Ya();return()=>{t.current&&e(Math.random())}}function Qa(e,t){const[n]=l.useState(()=>({inputs:t,result:e()})),r=l.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&Xa(t,i.inputs)||(i={inputs:t,result:e()}):i=n,l.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function Xa(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var si=e=>l.useEffect(e,Ga),Ga=[];function Gr(e){const t=l.useRef();return l.useEffect(()=>{t.current=e}),t.current}var St=Symbol.for("Animated:node"),Ja=e=>!!e&&e[St]===e,ye=e=>e&&e[St],hr=(e,t)=>ya(e,St,t),hn=e=>e&&e[St]&&e[St].getPayload(),ii=class{constructor(){hr(this,this)}getPayload(){return this.payload||[]}},kt=class extends ii{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,v.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new kt(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return v.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,v.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Et=class extends kt{constructor(e){super(0),this._string=null,this._toString=bt({output:[e,e]})}static create(e){return new Et(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(v.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=bt({output:[this.getValue(),e]})),this._value=0,super.reset()}},en={dependencies:null},pn=class extends ii{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return we(this.source,(n,r)=>{Ja(n)?t[r]=n.getValue(e):ae(n)?t[r]=G(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&F(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return we(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){en.dependencies&&ae(e)&&en.dependencies.add(e);const t=hn(e);t&&F(t,n=>this.add(n))}},oi=class extends pn{constructor(e){super(e)}static create(e){return new oi(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Za)),!0)}};function Za(e){return(fn(e)?Et:kt).create(e)}function jn(e){const t=ye(e);return t?t.constructor:v.arr(e)?oi:fn(e)?Et:kt}var Jr=(e,t)=>{const n=!v.fun(e)||e.prototype&&e.prototype.isReactComponent;return l.forwardRef((r,s)=>{const i=l.useRef(null),o=n&&l.useCallback(S=>{i.current=nc(s,S)},[s]),[a,u]=tc(r,t),c=ri(),d=()=>{const S=i.current;if(n&&!S)return;(S?t.applyAnimatedValues(S,a.getValue(!0)):!1)===!1&&c()},f=new ec(d,u),h=l.useRef();fr(()=>(h.current=f,F(u,S=>Ze(S,f)),()=>{h.current&&(F(h.current.deps,S=>_t(S,h.current)),k.cancel(h.current.update))})),l.useEffect(d,[]),si(()=>()=>{const S=h.current;F(S.deps,p=>_t(p,S))});const g=t.getComponentProps(a.getValue());return l.createElement(e,{...g,ref:o})})},ec=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&k.write(this.update)}};function tc(e,t){const n=new Set;return en.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new pn(e),en.dependencies=null,[e,n]}function nc(e,t){return e&&(v.fun(e)?e(t):e.current=t),t}var Zr=Symbol.for("AnimatedComponent"),rc=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new pn(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=o=>{const a=es(o)||"Anonymous";return v.str(o)?o=i[o]||(i[o]=Jr(o,s)):o=o[Zr]||(o[Zr]=Jr(o,s)),o.displayName=`Animated(${a})`,o};return we(e,(o,a)=>{v.arr(e)&&(a=es(o)),i[a]=i(o)}),{animated:i}},es=e=>v.str(e)?e:e&&v.str(e.displayName)?e.displayName:v.fun(e)&&e.name||null;function Pe(e,...t){return v.fun(e)?e(...t):e}var pt=(e,t)=>e===!0||!!(t&&e&&(v.fun(e)?e(t):re(e).includes(t))),ai=(e,t)=>v.obj(e)?t&&e[t]:e,ci=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,sc=e=>e,pr=(e,t=sc)=>{let n=ic;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);v.und(i)||(r[s]=i)}return r},ic=["config","onProps","onStart","onChange","onPause","onResume","onRest"],oc={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ac(e){const t={};let n=0;if(we(e,(r,s)=>{oc[s]||(t[s]=r,n++)}),n)return t}function li(e){const t=ac(e);if(t){const n={to:t};return we(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function xt(e){return e=G(e),v.arr(e)?e.map(xt):fn(e)?me.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function cc(e){for(const t in e)return!0;return!1}function $n(e){return v.fun(e)||v.arr(e)&&v.obj(e[0])}function lc(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function uc(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var dc={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Un={...dc.default,mass:1,damping:1,easing:Fa.linear,clamp:!1},fc=class{constructor(){this.velocity=0,Object.assign(this,Un)}};function hc(e,t,n){n&&(n={...n},ts(n,t),t={...n,...t}),ts(e,t),Object.assign(e,t);for(const o in Un)e[o]==null&&(e[o]=Un[o]);let{frequency:r,damping:s}=e;const{mass:i}=e;return v.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function ts(e,t){if(!v.und(t.decay))e.duration=void 0;else{const n=!v.und(t.tension)||!v.und(t.friction);(n||!v.und(t.frequency)||!v.und(t.damping)||!v.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var ns=[],pc=class{constructor(){this.changed=!1,this.values=ns,this.toValues=null,this.fromValues=ns,this.config=new fc,this.immediate=!1}};function ui(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,a)=>{let u,c,d=pt(n.cancel??(r==null?void 0:r.cancel),t);if(d)g();else{v.und(n.pause)||(s.paused=pt(n.pause,t));let S=r==null?void 0:r.pause;S!==!0&&(S=s.paused||pt(S,t)),u=Pe(n.delay||0,t),S?(s.resumeQueue.add(h),i.pause()):(i.resume(),h())}function f(){s.resumeQueue.add(h),s.timeouts.delete(c),c.cancel(),u=c.time-k.now()}function h(){u>0&&!me.skipAnimation?(s.delayed=!0,c=k.setTimeout(g,u),s.pauseQueue.add(f),s.timeouts.add(c)):g()}function g(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(f),s.timeouts.delete(c),e<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:e,cancel:d},o)}catch(S){a(S)}}})}var gr=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Ye(e.get()):t.every(n=>n.noop)?di(e.get()):he(e.get(),t.every(n=>n.finished)),di=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),he=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Ye=e=>({value:e,cancelled:!0,finished:!1});function fi(e,t,n,r){const{callId:s,parentId:i,onRest:o}=t,{asyncTo:a,promise:u}=n;return!i&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const c=pr(t,(b,y)=>y==="onRest"?void 0:b);let d,f;const h=new Promise((b,y)=>(d=b,f=y)),g=b=>{const y=s<=(n.cancelId||0)&&Ye(r)||s!==n.asyncId&&he(r,!1);if(y)throw b.result=y,f(b),b},S=(b,y)=>{const E=new rs,_=new ss;return(async()=>{if(me.skipAnimation)throw Ct(n),_.result=he(r,!1),f(_),_;g(E);const R=v.obj(b)?{...b}:{...y,to:b};R.parentId=s,we(c,(M,D)=>{v.und(R[D])&&(R[D]=M)});const A=await r.start(R);return g(E),n.paused&&await new Promise(M=>{n.resumeQueue.add(M)}),A})()};let p;if(me.skipAnimation)return Ct(n),he(r,!1);try{let b;v.arr(e)?b=(async y=>{for(const E of y)await S(E)})(e):b=Promise.resolve(e(S,r.stop.bind(r))),await Promise.all([b.then(d),h]),p=he(r.get(),!0,!1)}catch(b){if(b instanceof rs)p=b.result;else if(b instanceof ss)p=b.result;else throw b}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?a:void 0,n.promise=i?u:void 0)}return v.fun(o)&&k.batchedUpdates(()=>{o(p,r,r.item)}),p})()}function Ct(e,t){ft(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var rs=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ss=class extends Error{constructor(){super("SkipAnimationSignal")}},Hn=e=>e instanceof mr,gc=1,mr=class extends Js{constructor(){super(...arguments),this.id=gc++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ye(this);return e&&e.getValue()}to(...e){return me.to(this,e)}interpolate(...e){return Ka(),me.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){wt(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ln.sort(this),wt(this,{type:"priority",parent:this,priority:e})}},Le=Symbol.for("SpringPhase"),hi=1,Kn=2,qn=4,Dn=e=>(e[Le]&hi)>0,Te=e=>(e[Le]&Kn)>0,it=e=>(e[Le]&qn)>0,is=(e,t)=>t?e[Le]|=Kn|hi:e[Le]&=~Kn,os=(e,t)=>t?e[Le]|=qn:e[Le]&=~qn,mc=class extends mr{constructor(e,t){if(super(),this.animation=new pc,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!v.und(e)||!v.und(t)){const n=v.obj(e)?{...e}:{...t,from:e};v.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Te(this)||this._state.asyncTo)||it(this)}get goal(){return G(this.animation.to)}get velocity(){const e=ye(this);return e instanceof kt?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Dn(this)}get isAnimating(){return Te(this)}get isPaused(){return it(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,o=hn(r.to);!o&&ae(r.to)&&(s=re(G(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const f=c.constructor==Et?1:o?o[d].lastPosition:s[d];let h=r.immediate,g=f;if(!h){if(g=c.lastPosition,i.tension<=0){c.done=!0;return}let S=c.elapsedTime+=e;const p=r.fromValues[d],b=c.v0!=null?c.v0:c.v0=v.arr(i.velocity)?i.velocity[d]:i.velocity;let y;const E=i.precision||(p==f?.005:Math.min(1,Math.abs(f-p)*.001));if(v.und(i.duration))if(i.decay){const _=i.decay===!0?.998:i.decay,R=Math.exp(-(1-_)*S);g=p+b/(1-_)*(1-R),h=Math.abs(c.lastPosition-g)<=E,y=b*R}else{y=c.lastVelocity==null?b:c.lastVelocity;const _=i.restVelocity||E/10,R=i.clamp?0:i.bounce,A=!v.und(R),M=p==f?c.v0>0:p<f;let D,C=!1;const T=1,N=Math.ceil(e/T);for(let O=0;O<N&&(D=Math.abs(y)>_,!(!D&&(h=Math.abs(f-g)<=E,h)));++O){A&&(C=g==f||g>f==M,C&&(y=-y*R,g=f));const K=-i.tension*1e-6*(g-f),m=-i.friction*.001*y,w=(K+m)/i.mass;y=y+w*T,g=g+y*T}}else{let _=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,c.durationProgress>0&&(c.elapsedTime=i.duration*c.durationProgress,S=c.elapsedTime+=e)),_=(i.progress||0)+S/this._memoizedDuration,_=_>1?1:_<0?0:_,c.durationProgress=_),g=p+i.easing(_)*(f-p),y=(g-c.lastPosition)/e,h=_==1}c.lastVelocity=y,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[d].done&&(h=!1),h?c.done=!0:t=!1,c.setValue(g,i.round)&&(n=!0)});const a=ye(this),u=a.getValue();if(t){const c=G(r.to);(u!==c||n)&&!i.decay?(a.setValue(c),this._onChange(c)):n&&i.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return k.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Te(this)){const{to:e,config:t}=this.animation;k.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return v.und(e)?(n=this.queue||[],this.queue=[]):n=[v.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>gr(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ct(this._state,e&&this._lastCallId),k.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=v.obj(n)?n[t]:n,(n==null||$n(n))&&(n=void 0),r=v.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return Dn(this)||(e.reverse&&([n,r]=[r,n]),r=G(r),v.und(r)?ye(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,pr(e,(o,a)=>/^on/.test(a)?ai(o,n):o)),cs(this,e,"onProps"),at(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return ui(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{it(this)||(os(this,!0),ct(i.pauseQueue),at(this,"onPause",he(this,ot(this,this.animation.to)),this))},resume:()=>{it(this)&&(os(this,!1),Te(this)&&this._resume(),ct(i.resumeQueue),at(this,"onResume",he(this,ot(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=pi(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Ye(this));const r=!v.und(e.to),s=!v.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Ye(this));const{key:i,defaultProps:o,animation:a}=this,{to:u,from:c}=a;let{to:d=u,from:f=c}=e;s&&!r&&(!t.default||v.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const h=!_e(f,c);h&&(a.from=f),f=G(f);const g=!_e(d,u);g&&this._focus(d);const S=$n(t.to),{config:p}=a,{decay:b,velocity:y}=p;(r||s)&&(p.velocity=0),t.config&&!S&&hc(p,Pe(t.config,i),t.config!==o.config?Pe(o.config,i):void 0);let E=ye(this);if(!E||v.und(d))return n(he(this,!0));const _=v.und(t.reset)?s&&!t.default:!v.und(f)&&pt(t.reset,i),R=_?f:this.get(),A=xt(d),M=v.num(A)||v.arr(A)||fn(A),D=!S&&(!M||pt(o.immediate||t.immediate,i));if(g){const O=jn(d);if(O!==E.constructor)if(D)E=this._set(A);else throw Error(`Cannot animate between ${E.constructor.name} and ${O.name}, as the "to" prop suggests`)}const C=E.constructor;let T=ae(d),N=!1;if(!T){const O=_||!Dn(this)&&h;(g||O)&&(N=_e(xt(R),A),T=!N),(!_e(a.immediate,D)&&!D||!_e(p.decay,b)||!_e(p.velocity,y))&&(T=!0)}if(N&&Te(this)&&(a.changed&&!_?T=!0:T||this._stop(u)),!S&&((T||ae(u))&&(a.values=E.getPayload(),a.toValues=ae(d)?null:C==Et?[1]:re(A)),a.immediate!=D&&(a.immediate=D,!D&&!_&&this._set(u)),T)){const{onRest:O}=a;F(bc,m=>cs(this,t,m));const K=he(this,ot(this,u));ct(this._pendingCalls,K),this._pendingCalls.add(n),a.changed&&k.batchedUpdates(()=>{var m;a.changed=!_,O==null||O(K,this),_?Pe(o.onRest,K):(m=a.onStart)==null||m.call(a,K,this)})}_&&this._set(R),S?n(fi(t.to,t,this._state,this)):T?this._start():Te(this)&&!g?this._pendingCalls.add(n):n(di(R))}_focus(e){const t=this.animation;e!==t.to&&(Qr(this)&&this._detach(),t.to=e,Qr(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;ae(t)&&(Ze(t,this),Hn(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;ae(e)&&_t(e,this)}_set(e,t=!0){const n=G(e);if(!v.und(n)){const r=ye(this);if(!r||!_e(n,r.getValue())){const s=jn(n);!r||r.constructor!=s?hr(this,s.create(n)):r.setValue(n),r&&k.batchedUpdates(()=>{this._onChange(n,t)})}}return ye(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,at(this,"onStart",he(this,ot(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Pe(this.animation.onChange,e,this)),Pe(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ye(this).reset(G(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Te(this)||(is(this,!0),it(this)||this._resume())}_resume(){me.skipAnimation?this.finish():ln.start(this)}_stop(e,t){if(Te(this)){is(this,!1);const n=this.animation;F(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),wt(this,{type:"idle",parent:this});const r=t?Ye(this.get()):he(this.get(),ot(this,e??n.to));ct(this._pendingCalls,r),n.changed&&(n.changed=!1,at(this,"onRest",r,this))}}};function ot(e,t){const n=xt(t),r=xt(e.get());return _e(r,n)}function pi(e,t=e.loop,n=e.to){const r=Pe(t);if(r){const s=r!==!0&&li(r),i=(s||e).reverse,o=!s||s.reset;return Tt({...e,loop:t,default:!1,pause:void 0,to:!i||$n(n)?n:void 0,from:o?e.from:void 0,reset:o,...s})}}function Tt(e){const{to:t,from:n}=e=li(e),r=new Set;return v.obj(t)&&as(t,r),v.obj(n)&&as(n,r),e.keys=r.size?Array.from(r):null,e}function vc(e){const t=Tt(e);return v.und(t.default)&&(t.default=pr(t)),t}function as(e,t){we(e,(n,r)=>n!=null&&t.add(r))}var bc=["onStart","onRest","onChange","onPause","onResume"];function cs(e,t,n){e.animation[n]=t[n]!==ci(t,n)?ai(t[n],e.key):void 0}function at(e,t,...n){var r,s,i,o;(s=(r=e.animation)[t])==null||s.call(r,...n),(o=(i=e.defaultProps)[t])==null||o.call(i,...n)}var yc=["onStart","onChange","onRest"],wc=1,_c=class{constructor(t,n){this.id=wc++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];v.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(Tt(t)),this}start(t){let{queue:n}=this;return t?n=re(t).map(Tt):this.queue=[],this._flush?this._flush(this,n):(yi(this,n),Wn(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;F(re(n),s=>r[s].stop(!!t))}else Ct(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(v.und(t))this.start({pause:!0});else{const n=this.springs;F(re(t),r=>n[r].pause())}return this}resume(t){if(v.und(t))this.start({pause:!1});else{const n=this.springs;F(re(t),r=>n[r].resume())}return this}each(t){we(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,s=this._active.size>0,i=this._changed.size>0;(s&&!this._started||i&&!this._started)&&(this._started=!0,ft(t,([u,c])=>{c.value=this.get(),u(c,this,this._item)}));const o=!s&&this._started,a=i||o&&r.size?this.get():null;i&&n.size&&ft(n,([u,c])=>{c.value=a,u(c,this,this._item)}),o&&(this._started=!1,ft(r,([u,c])=>{c.value=a,u(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;k.onFrame(this._onFrame)}};function Wn(e,t){return Promise.all(t.map(n=>gi(e,n))).then(n=>gr(e,n))}async function gi(e,t,n){const{keys:r,to:s,from:i,loop:o,onRest:a,onResolve:u}=t,c=v.obj(t.default)&&t.default;o&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=v.arr(s)||v.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):F(yc,p=>{const b=t[p];if(v.fun(b)){const y=e._events[p];t[p]=({finished:E,cancelled:_})=>{const R=y.get(b);R?(E||(R.finished=!1),_&&(R.cancelled=!0)):y.set(b,{value:null,finished:E||!1,cancelled:_||!1})},c&&(c[p]=t[p])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,ct(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map(p=>e.springs[p].start(t)),g=t.cancel===!0||ci(t,"cancel")===!0;(d||g&&f.asyncId)&&h.push(ui(++e._lastAsyncId,{props:t,state:f,actions:{pause:Bn,resume:Bn,start(p,b){g?(Ct(f,e._lastAsyncId),b(Ye(e))):(p.onRest=a,b(fi(d,p,f,e)))}}})),f.paused&&await new Promise(p=>{f.resumeQueue.add(p)});const S=gr(e,await Promise.all(h));if(o&&S.finished&&!(n&&S.noop)){const p=pi(t,o,s);if(p)return yi(e,[p]),gi(e,p,!0)}return u&&k.batchedUpdates(()=>u(S,e,e.item)),S}function ls(e,t){const n={...e.springs};return t&&F(re(t),r=>{v.und(r.keys)&&(r=Tt(r)),v.obj(r.to)||(r={...r,to:void 0}),bi(n,r,s=>vi(s))}),mi(e,n),n}function mi(e,t){we(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Ze(n,e))})}function vi(e,t){const n=new mc;return n.key=e,t&&Ze(n,t),n}function bi(e,t,n){t.keys&&F(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function yi(e,t){F(t,n=>{bi(e.springs,n,r=>vi(r,e))})}var gn=({children:e,...t})=>{const n=l.useContext(tn),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=Qa(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=tn;return l.createElement(i,{value:t},e)},tn=Sc(gn,{});gn.Provider=tn.Provider;gn.Consumer=tn.Consumer;function Sc(e,t){return Object.assign(e,l.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Ec=()=>{const e=[],t=function(r){Wa();const s=[];return F(e,(i,o)=>{if(v.und(r))s.push(i.start());else{const a=n(r,i,o);a&&s.push(i.start(a))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return F(e,r=>r.pause(...arguments)),this},t.resume=function(){return F(e,r=>r.resume(...arguments)),this},t.set=function(r){F(e,(s,i)=>{const o=v.fun(r)?r(i,s):r;o&&s.set(o)})},t.start=function(r){const s=[];return F(e,(i,o)=>{if(v.und(r))s.push(i.start());else{const a=this._getProps(r,i,o);a&&s.push(i.start(a))}}),s},t.stop=function(){return F(e,r=>r.stop(...arguments)),this},t.update=function(r){return F(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return v.fun(r)?r(i,s):r};return t._getProps=n,t};function xc(e,t,n){const r=v.fun(t)&&t;r&&!n&&(n=[]);const s=l.useMemo(()=>r||arguments.length==3?Ec():void 0,[]),i=l.useRef(0),o=ri(),a=l.useMemo(()=>({ctrls:[],queue:[],flush(y,E){const _=ls(y,E);return i.current>0&&!a.queue.length&&!Object.keys(_).some(A=>!y.springs[A])?Wn(y,E):new Promise(A=>{mi(y,_),a.queue.push(()=>{A(Wn(y,E))}),o()})}}),[]),u=l.useRef([...a.ctrls]),c=[],d=Gr(e)||0;l.useMemo(()=>{F(u.current.slice(e,d),y=>{lc(y,s),y.stop(!0)}),u.current.length=e,f(d,e)},[e]),l.useMemo(()=>{f(0,Math.min(d,e))},n);function f(y,E){for(let _=y;_<E;_++){const R=u.current[_]||(u.current[_]=new _c(null,a.flush)),A=r?r(_,R):t[_];A&&(c[_]=vc(A))}}const h=u.current.map((y,E)=>ls(y,c[E])),g=l.useContext(gn),S=Gr(g),p=g!==S&&cc(g);fr(()=>{i.current++,a.ctrls=u.current;const{queue:y}=a;y.length&&(a.queue=[],F(y,E=>E())),F(u.current,(E,_)=>{s==null||s.add(E),p&&E.start({default:g});const R=c[_];R&&(uc(E,R.ref),E.ref?E.queue.push(R):E.start(R))})}),si(()=>()=>{F(a.ctrls,y=>y.stop(!0))});const b=h.map(y=>({...y}));return s?[b,s]:b}function Cc(e,t){const n=v.fun(e),[[r],s]=xc(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}var Tc=class extends mr{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=bt(...t);const n=this._get(),r=jn(n);hr(this,r.create(n))}advance(e){const t=this._get(),n=this.get();_e(t,n)||(ye(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&us(this._active)&&An(this)}_get(){const e=v.arr(this.source)?this.source.map(G):re(G(this.source));return this.calc(...e)}_start(){this.idle&&!us(this._active)&&(this.idle=!1,F(hn(this),e=>{e.done=!1}),me.skipAnimation?(k.batchedUpdates(()=>this.advance()),An(this)):ln.start(this))}_attach(){let e=1;F(re(this.source),t=>{ae(t)&&Ze(t,this),Hn(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){F(re(this.source),e=>{ae(e)&&_t(e,this)}),this._active.clear(),An(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=re(this.source).reduce((t,n)=>Math.max(t,(Hn(n)?n.priority:0)+1),0))}};function Rc(e){return e.idle!==!1}function us(e){return!e.size||Array.from(e).every(Rc)}function An(e){e.idle||(e.idle=!0,F(hn(e),t=>{t.done=!0}),wt(e,{type:"idle",parent:e}))}me.assign({createStringInterpolator:ti,to:(e,t)=>new Tc(e,t)});var wi=/^--/;function Dc(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!wi.test(e)&&!(gt.hasOwnProperty(e)&&gt[e])?t+"px":(""+t).trim()}var ds={};function Ac(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:s,children:i,scrollTop:o,scrollLeft:a,viewBox:u,...c}=t,d=Object.values(c),f=Object.keys(c).map(h=>n||e.hasAttribute(h)?h:ds[h]||(ds[h]=h.replace(/([A-Z])/g,g=>"-"+g.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in s)if(s.hasOwnProperty(h)){const g=Dc(h,s[h]);wi.test(h)?e.style.setProperty(h,g):e.style[h]=g}f.forEach((h,g)=>{e.setAttribute(h,d[g])}),r!==void 0&&(e.className=r),o!==void 0&&(e.scrollTop=o),a!==void 0&&(e.scrollLeft=a),u!==void 0&&e.setAttribute("viewBox",u)}var gt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ic=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Mc=["Webkit","Ms","Moz","O"];gt=Object.keys(gt).reduce((e,t)=>(Mc.forEach(n=>e[Ic(n,t)]=e[t]),e),gt);var kc=/^(matrix|translate|scale|rotate|skew)/,Oc=/^(translate)/,Pc=/^(rotate|skew)/,In=(e,t)=>v.num(e)&&e!==0?e+t:e,Kt=(e,t)=>v.arr(e)?e.every(n=>Kt(n,t)):v.num(e)?e===t:parseFloat(e)===t,Lc=class extends pn{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(o=>[`translate3d(${o.map(a=>In(a,"px")).join(",")})`,Kt(o,0)])),we(r,(o,a)=>{if(a==="transform")s.push([o||""]),i.push(u=>[u,u===""]);else if(kc.test(a)){if(delete r[a],v.und(o))return;const u=Oc.test(a)?"px":Pc.test(a)?"deg":"";s.push(re(o)),i.push(a==="rotate3d"?([c,d,f,h])=>[`rotate3d(${c},${d},${f},${In(h,u)})`,Kt(h,0)]:c=>[`${a}(${c.map(d=>In(d,u)).join(",")})`,Kt(c,a.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new Nc(s,i)),super(r)}},Nc=class extends Js{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return F(this.inputs,(n,r)=>{const s=G(n[0]),[i,o]=this.transforms[r](v.arr(s)?s:n.map(G));e+=" "+i,t=t&&o}),t?"none":e}observerAdded(e){e==1&&F(this.inputs,t=>F(t,n=>ae(n)&&Ze(n,this)))}observerRemoved(e){e==0&&F(this.inputs,t=>F(t,n=>ae(n)&&_t(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),wt(this,e)}},Fc=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];me.assign({batchedUpdates:He.unstable_batchedUpdates,createStringInterpolator:ti,colors:xa});var Vc=rc(Fc,{applyAnimatedValues:Ac,createAnimatedStyle:e=>new Lc(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Bc=Vc.animated;function zc(e,t,n){return Math.max(t,Math.min(e,n))}const U={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function fs(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function hs(e,t,n,r=.15){return r===0?zc(e,t,n):e<t?-fs(t-e,n-t,r)+t:e>n?+fs(e-n,n-t,r)+n:e}function jc(e,[t,n],[r,s]){const[[i,o],[a,u]]=e;return[hs(t,i,o,r),hs(n,a,u,s)]}function $c(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uc(e){var t=$c(e,"string");return typeof t=="symbol"?t:String(t)}function q(e,t,n){return t=Uc(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ps(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const _i={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function gs(e){return e?e[0].toUpperCase()+e.slice(1):""}const Hc=["enter","leave"];function Kc(e=!1,t){return e&&!Hc.includes(t)}function qc(e,t="",n=!1){const r=_i[e],s=r&&r[t]||t;return"on"+gs(e)+gs(s)+(Kc(n,s)?"Capture":"")}const Wc=["gotpointercapture","lostpointercapture"];function Yc(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=Wc.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function Qc(e,t=""){const n=_i[e],r=n&&n[t]||t;return e+r}function mn(e){return"touches"in e}function Si(e){return mn(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Xc(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function Gc(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Ei(e){return mn(e)?Gc(e)[0]:e}function Yn(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,s=(t.clientX+e.clientX)/2,i=(t.clientY+e.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[s,i]}}catch{}return null}function Jc(e){return Xc(e).map(t=>t.identifier)}function ms(e,t){const[n,r]=Array.from(e.touches).filter(s=>t.includes(s.identifier));return Yn(n,r)}function Mn(e){const t=Ei(e);return mn(e)?t.identifier:t.pointerId}function Xe(e){const t=Ei(e);return[t.clientX,t.clientY]}const vs=40,bs=800;function xi(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=vs,n*=vs):r===2&&(t*=bs,n*=bs),[t,n]}function Zc(e){var t,n;const{scrollX:r,scrollY:s,scrollLeft:i,scrollTop:o}=e.currentTarget;return[(t=r??i)!==null&&t!==void 0?t:0,(n=s??o)!==null&&n!==void 0?n:0]}function el(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return t}function nn(e,...t){return typeof e=="function"?e(...t):e}function tl(){}function nl(...e){return e.length===0?tl:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function ys(e,t){return Object.assign({},t,e||{})}const rl=32;class Ci{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?nn(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,el(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const M=n._delta.map(Math.abs);U.addTo(n._distance,M)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[u,c]=r.threshold,{_step:d,values:f}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=u&&f[0]),d[1]===!1&&(d[1]=Math.abs(a)>=c&&f[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=u&&Math.sign(o)*u),d[1]===!1&&(d[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[M,D]=f;h[0]=d[0]!==!1?M-d[0]:0,h[1]=d[1]!==!1?D-d[1]:0}else h[0]=d[0]!==!1?o-d[0]:0,h[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const g=n.offset,S=n._active&&!n._blocked||n.active;S&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=nn(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[p,b]=n.offset,[[y,E],[_,R]]=n._bounds;n.overflow=[p<y?-1:p>E?1:0,b<_?-1:b>R?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const A=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=jc(n._bounds,n.offset,A),n.delta=U.sub(n.offset,g),this.computeMovement(),S&&(!n.last||i>rl)){n.delta=U.sub(n.offset,g);const M=n.delta.map(Math.abs);U.addTo(n.distance,M),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[M[0]/i,M[1]/i],n.timeDelta=i)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(H(H(H({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function sl([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class Ot extends Ci{constructor(...t){super(...t),q(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=U.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=U.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[Si(t)]:r.axisThreshold;n.axis=sl(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const il=e=>e,ws=.15,Ti={enabled(e=!0){return e},eventOptions(e,t,n){return H(H({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[ws,ws];case!1:return[0,0];default:return U.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return U.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||il},threshold(e){return U.toVector(e,0)}},ol=0,Ne=H(H({},Ti),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=ol){return e},bounds(e={}){if(typeof e=="function")return i=>Ne.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),_s={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class al extends Ot{constructor(...t){super(...t),q(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Ne.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=Mn(t),r._pointerActive=!0,this.computeValues(Xe(t)),this.computeInitial(),n.preventScrollAxis&&Si(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=Mn(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;const i=Xe(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=U.sub(i,n._values),this.computeValues(i)),U.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=Mn(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,o]=n._distance;if(n.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,u]=n._delta,[c,d]=n._movement,[f,h]=r.swipe.velocity,[g,S]=r.swipe.distance,p=r.swipe.duration;if(n.elapsedTime<p){const b=Math.abs(a/n.timeDelta),y=Math.abs(u/n.timeDelta);b>f&&Math.abs(c)>g&&(n.swipe[0]=Math.sign(a)),y>h&&Math.abs(d)>S&&(n.swipe[1]=Math.sign(u))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,cl(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=_s[t.key];if(n){const r=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,U.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in _s&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function cl(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Pt=typeof window<"u"&&window.document&&window.document.createElement;function Ri(){return Pt&&"ontouchstart"in window}function ll(){return Ri()||Pt&&window.navigator.maxTouchPoints>1}function ul(){return Pt&&"onpointerdown"in window}function dl(){return Pt&&"exitPointerLock"in window.document}function fl(){try{return"constructor"in GestureEvent}catch{return!1}}const ce={isBrowser:Pt,gesture:fl(),touch:Ri(),touchscreen:ll(),pointer:ul(),pointerLock:dl()},hl=250,pl=180,gl=.5,ml=50,vl=250,bl=10,Ss={mouse:0,touch:0,pen:8},yl=H(H({},Ne),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&ce.pointerLock,ce.touch&&n?"touch":this.pointerLock?"mouse":ce.pointer&&!s?"pointer":ce.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?hl:void 0,!(!ce.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=U.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:e=gl,distance:t=ml,duration:n=vl}={}){return{velocity:this.transform(U.toVector(e)),distance:this.transform(U.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return pl;case!1:return 0;default:return e}},axisThreshold(e){return e?H(H({},Ss),e):Ss},keyboardDisplacement(e=bl){return e}});function Di(e){const[t,n]=e.overflow,[r,s]=e._delta,[i,o]=e._direction;(t<0&&r>0&&i<0||t>0&&r<0&&i>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&s>0&&o<0||n>0&&s<0&&o>0)&&(e._movement[1]=e._movementBound[1])}const wl=30,_l=100;class Sl extends Ci{constructor(...t){super(...t),q(this,"ingKey","pinching"),q(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=U.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const s=Math.abs(n)*wl-Math.abs(r);s<0?t.axis="angle":s>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(i=>r.has(i))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const s=ms(t,n._touchIds);s&&this.pinchStart(t,s)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,s=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(o=>s.has(o))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const i=Yn(...Array.from(r.values()));i&&this.pinchStart(t,i)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=ms(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=Yn(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,s=r._values[1],i=n.angle-s;let o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([n.distance,n.angle-360*o]),r.origin=n.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=U.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-xi(t)[1]/_l*r.offset[0],0],U.addTo(r._movement,r._delta),Di(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const El=H(H({},Ti),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ce.touch&&ce.gesture)return"gesture";if(ce.touch&&r)return"touch";if(ce.touchscreen){if(ce.pointer)return"pointer";if(ce.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=o=>{const a=ys(nn(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=ys(nn(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:o=>[s(o),i(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",U.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class xl extends Ot{constructor(...t){super(...t),q(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Xe(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=Xe(t),r=this.state;r._delta=U.sub(n,r._values),U.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const Cl=H(H({},Ne),{},{mouseOnly:(e=!0)=>e});class Tl extends Ot{constructor(...t){super(...t),q(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=Zc(t);n._delta=U.sub(r,n._values),U.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const Rl=Ne;class Dl extends Ot{constructor(...t){super(...t),q(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=xi(t),U.addTo(n._movement,n._delta),Di(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const Al=Ne;class Il extends Ot{constructor(...t){super(...t),q(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Xe(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Xe(t);n._movement=n._delta=U.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const Ml=H(H({},Ne),{},{mouseOnly:(e=!0)=>e}),vr=new Map,Qn=new Map;function kl(e){vr.set(e.key,e.engine),Qn.set(e.key,e.resolver)}const Ol={key:"drag",engine:al,resolver:yl},Pl={key:"hover",engine:Il,resolver:Ml},Ll={key:"move",engine:xl,resolver:Cl},Nl={key:"pinch",engine:Sl,resolver:El},Fl={key:"scroll",engine:Tl,resolver:Rl},Vl={key:"wheel",engine:Dl,resolver:Al};function Bl(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zl(e,t){if(e==null)return{};var n=Bl(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const jl={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=ce.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},$l=["target","eventOptions","window","enabled","transform"];function qt(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=qt(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function Ul(e,t,n={}){const r=e,{target:s,eventOptions:i,window:o,enabled:a,transform:u}=r,c=zl(r,$l);if(n.shared=qt({target:s,eventOptions:i,window:o,enabled:a,transform:u},jl),t){const d=Qn.get(t);n[t]=qt(H({shared:n.shared},c),d)}else for(const d in c){const f=Qn.get(d);f&&(n[d]=qt(H({shared:n.shared},c[d]),f))}return n}class Ai{constructor(t,n){q(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,i){const o=this._listeners,a=Qc(n,r),u=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=H(H({},u),i);t.addEventListener(a,s,c);const d=()=>{t.removeEventListener(a,s,c),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Hl{constructor(){q(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Kl{constructor(t){q(this,"gestures",new Set),q(this,"_targetEventStore",new Ai(this)),q(this,"gestureEventStores",{}),q(this,"gestureTimeoutStores",{}),q(this,"handlers",{}),q(this,"config",{}),q(this,"pointerIds",new Set),q(this,"touchIds",new Set),q(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),ql(this,t)}setEventIds(t){if(mn(t))return this.touchIds=new Set(Jc(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=Ul(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],u=Es(r,a.eventOptions,!!s);if(a.enabled){const c=vr.get(o);new c(this,t,o).bind(u)}}const i=Es(r,n.eventOptions,!!s);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](H(H({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const i in r)r[i]=nl(...r[i]);if(!s)return r;for(const i in r){const{device:o,capture:a,passive:u}=Yc(i);this._targetEventStore.add(s,o,"",r[i],{capture:a,passive:u})}}}}function $e(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ai(e,t),e.gestureTimeoutStores[t]=new Hl}function ql(e,t){t.drag&&$e(e,"drag"),t.wheel&&$e(e,"wheel"),t.scroll&&$e(e,"scroll"),t.move&&$e(e,"move"),t.pinch&&$e(e,"pinch"),t.hover&&$e(e,"hover")}const Es=(e,t,n)=>(r,s,i,o={},a=!1)=>{var u,c;const d=(u=o.capture)!==null&&u!==void 0?u:t.capture,f=(c=o.passive)!==null&&c!==void 0?c:t.passive;let h=a?r:qc(r,s,d);n&&f&&(h+="Passive"),e[h]=e[h]||[],e[h].push(i)},Wl=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Yl(e){const t={},n={},r=new Set;for(let s in e)Wl.test(s)?(r.add(RegExp.lastMatch),n[s]=e[s]):t[s]=e[s];return[n,t,r]}function Ue(e,t,n,r,s,i){if(!e.has(n)||!vr.has(r))return;const o=n+"Start",a=n+"End",u=c=>{let d;return c.first&&o in t&&t[o](c),n in t&&(d=t[n](c)),c.last&&a in t&&t[a](c),d};s[r]=u,i[r]=i[r]||{}}function Ql(e,t){const[n,r,s]=Yl(e),i={};return Ue(s,n,"onDrag","drag",i,t),Ue(s,n,"onWheel","wheel",i,t),Ue(s,n,"onScroll","scroll",i,t),Ue(s,n,"onPinch","pinch",i,t),Ue(s,n,"onMove","move",i,t),Ue(s,n,"onHover","hover",i,t),{handlers:i,config:t,nativeHandlers:r}}function Xl(e,t={},n,r){const s=X.useMemo(()=>new Kl(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),X.useEffect(s.effect.bind(s)),X.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function Gl(e){return e.forEach(kl),function(n,r){const{handlers:s,nativeHandlers:i,config:o}=Ql(n,r||{});return Xl(s,o,void 0,i)}}function Jl(e,t){return Gl([Ol,Nl,Fl,Vl,Ll,Pl])(e,t||{})}const Zl=({grid:e,onEmptyTileClick:t,tileDragStart:n,onTileDrop:r})=>{const s=l.useRef(null),i=l.useRef(null);l.useState({x:0,y:0});const[o,a]=l.useState({width:0,height:0}),[u,c]=l.useState({row:e.grid.length/2,col:e.grid[0].length/2}),d=l.useRef({row:e.grid.length/2,col:e.grid[0].length/2}),[f,h]=l.useState({startRow:0,endRow:0,startCol:0,endCol:0}),[g,S]=l.useState(16*2.75);l.useState(null);const p=C=>-(C*16*2.75),b=C=>Math.ceil(Math.abs(C/(16*2.75))),y=l.useMemo(()=>e.grid.slice(f.startRow,f.endRow).map(C=>C.slice(f.startCol,f.endCol)),[e,f]);l.useMemo(()=>{const C=f.startCol*g,T=f.startRow*g;return{x:C,y:T}},[f,g]),l.useEffect(()=>{},[]),l.useEffect(()=>{const T=b(o.width/2),N=b(o.height/2),O=Math.max(0,u.row-N-3),K=Math.min(e.grid.length,u.row+N+3),m=Math.max(0,u.col-T-3),w=Math.min(e.grid[0].length,u.col+T+3);h({startRow:O,endRow:K,startCol:m,endCol:w})},[u,o,e.grid]),l.useEffect(()=>{i.current&&M.start({})},[o]);function E({id:C,t:T,rowIndex:N,colIndex:O}){const{setNodeRef:K}=Fn({id:C});return Ke("div",{className:"size-10 text-center flex flex-col items-center justify-center font-bold rounded-lg cursor-pointer border-gray-300 border-dashed border-2 z-20",onClick:()=>{console.log("clicked empty tile id:",C),console.log("clicked empty tile row, col:",T==null?void 0:T.row,T==null?void 0:T.col),t(N,O)},ref:K,children:[T?l.createElement($s,{...T,key:T.id}):null,e.nextLoc.row==N&&e.nextLoc.col==O?e.direction=="RIGHT"?B("div",{children:B(ji,{className:"fill-black opacity-30"})}):e.direction=="BOTTOM"?B("div",{children:B($i,{className:"fill-black opacity-30"})}):e.direction=="LEFT"?B("div",{children:B(Ui,{className:"fill-black opacity-30"})}):e.direction=="TOP"?B("div",{children:B(Hi,{className:"fill-black opacity-30"})}):"":""]},`emptyTile-${N}-${O}`)}l.useEffect(()=>{const C=()=>{i.current&&a({width:i.current.getBoundingClientRect().width,height:i.current.getBoundingClientRect().height})},T=new ResizeObserver(C);return i.current&&T.observe(i.current),()=>T.disconnect()},[]),l.useEffect(()=>{const C=setInterval(()=>{c(d.current)},100);return()=>clearInterval(C)},[]);const[{x:_,y:R,scale:A},M]=Cc(()=>({x:p(e.grid[0].length/2),y:p(e.grid.length/2),scale:1,config:{tension:500,friction:30}}));return Jl({onDrag:n?()=>{}:({offset:[C,T]})=>{M.start({x:C,y:T,scale:1}),d.current={row:b(T),col:b(C)}}},{target:s,drag:{from:()=>(console.log(_.get(),R.get()),[_.get(),R.get()])}}),B("div",{className:"w-[100vw] h-[70vh] overflow-hidden relative",ref:i,children:B(Bc.div,{id:"displayboard",ref:s,style:{x:_,y:R,touchAction:"none"},className:"absolute w-full h-full top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:y.map((C,T)=>C.map((N,O)=>B("div",{className:"absolute",style:{left:`${N.col*2.75}rem`,top:`${N.row*2.75}rem`},children:B(E,{id:N.row*e.grid[0].length+N.col,t:N,rowIndex:T,colIndex:O},`empty-${N.row*e.grid[0].length+N.col}`)},`cell-${T*C.length+O}`)))})})},eu=Wi.Simulate.dragStart,tu=(e,t)=>{let n=[],r=1;for(let s=0;s<e;s++){let i=[];for(let o=0;o<t;o++)i.push({id:r,onGridTile:!1,letter:null,visible:!0,selected:!1,pale:!1,xState:!1,draggable:!1,row:s,col:o}),r++;n.push(i)}return n},xs=["TOP","RIGHT","BOTTOM","LEFT"];function ou(){Bi();const e=10,t={row:Math.floor(e/2),col:Math.floor(e/2)},n={grid:tu(e,e),direction:"RIGHT",nextLoc:t,prevLoc:t},[r,s]=l.useState(n);l.useState(new Set([])),l.useState(new Set([]));const[i,o]=l.useState(!1),[a,u]=l.useState(!1);l.useState(-1);const d=Object.entries({A:13,B:3,C:3,D:6,E:18,F:3,G:4,H:3,I:12,J:2,K:2,L:5,M:3,N:8,O:11,P:3,Q:2,R:9,S:6,T:9,U:6,V:3,W:3,X:2,Y:3,Z:2}).flatMap(([m,w],x)=>Array(w).fill(m)),[f,h]=l.useState(d.map((m,w)=>({id:w,onGridTile:!1,letter:m,visible:!0,selected:!1,pale:!1,xState:!1,draggable:!1,row:-1,col:-1}))),g=m=>{let w=[];for(let x=0;x<m;x++){const I=Math.floor(f.length*Math.random());w.push(f[I]),f.splice(I,1)}return w},[S,p]=l.useState(g(21));l.useEffect(()=>{r.grid.map(m=>m.map(w=>(w!=null&&w.onGridTile,{...w})))},[r]),l.useEffect(()=>{},[r.direction]),l.useEffect(()=>{console.log("tileDragStart",i)},[i]);const b=(m,w,x)=>{const I=x?S.find(V=>V.id==m&&!V.pale):r.grid.flat().find(V=>(V==null?void 0:V.id)==m&&!(V!=null&&V.pale));if(!I)return;const P={...I,onGridTile:!0,row:w.row,col:w.col},L=r.grid.flat().find(V=>(V==null?void 0:V.row)==w.row&&(V==null?void 0:V.col)==w.col);x&&(E(L?L.id:null),p(V=>[...V].filter(j=>j.id!=m))),s(V=>{var Z,se,ve,Se;let j;const z={...V};switch(z.grid[w.row][w.col]=P,x||(z.grid[I.row][I.col]=L?{...L,row:I.row,col:I.col}:{...I,letter:null,row:I.row,col:I.col}),z.direction){case"TOP":for(j=w.row-1;(Z=z.grid[j][w.col])!=null&&Z.letter;)j--;z.nextLoc={row:j,col:w.col};break;case"BOTTOM":for(j=w.row+1;(se=z.grid[j][w.col])!=null&&se.letter;)j++;z.nextLoc={row:j,col:w.col};break;case"LEFT":for(j=w.col-1;(ve=z.grid[w.row][j])!=null&&ve.letter;)j--;z.nextLoc={row:w.row,col:j};break;default:for(j=w.col+1;(Se=z.grid[w.row][j])!=null&&Se.letter;)j++;z.nextLoc={row:w.row,col:j};break}return z})};l.useCallback(m=>{s(w=>({...w,grid:w.grid.map(x=>x.map(I=>(I==null?void 0:I.id)==m?{...I,xState:!0}:I))}))},[r.grid]);const y=m=>{s(w=>{w.nextLoc.row,w.nextLoc.col;const x=w.grid.map((I,P)=>I.map((L,V)=>(L==null?void 0:L.id)==m?L!=null&&L.xState?({...L},{...L,letter:null}):{...L,xState:!0}:L));return{...w,grid:x}})},E=m=>{m!=null&&s(w=>{const x=w.grid;let I=m;const P=x.flat().find(L=>L!==null&&L.id===I);return P?(p(L=>[...L,P]),x[P.row][P.col]={...P,letter:null},{...w,grid:x,nextLoc:{row:P.row,col:P.col}}):w})},_=()=>{var w,x,I,P;let m;switch(r.direction){case"RIGHT":m=(w=r.grid[r.nextLoc.row][r.nextLoc.col-1])==null?void 0:w.id;break;case"LEFT":m=(x=r.grid[r.nextLoc.row][r.nextLoc.col+1])==null?void 0:x.id;break;case"BOTTOM":m=(I=r.grid[r.nextLoc.row-1][r.nextLoc.col])==null?void 0:I.id;break;case"TOP":m=(P=r.grid[r.nextLoc.row+1][r.nextLoc.col])==null?void 0:P.id;break}m&&E(m)},R=()=>{s(m=>{var I;const w=m.grid;let x;for(let P=0;P<m.grid.length;P++)for(let L=0;L<m.grid[P].length;L++)(I=m.grid[P][L])!=null&&I.pale&&(x?x.row==P&&m.direction=="RIGHT"?(w[L-x.col+x.row][x.col]=m.grid[P][L],w[P][L]=null):x.col==L&&m.direction=="BOTTOM"&&(w[x.row][P-x.row+x.col]=m.grid[P][L],w[P][L]=null):x={row:P,col:L});return{...m,grid:w,nextLoc:x?m.direction=="RIGHT"?{col:m.nextLoc.row-x.col+(x==null?void 0:x.row),row:x==null?void 0:x.col}:{col:x==null?void 0:x.row,row:m.nextLoc.col-x.row+(x==null?void 0:x.col)}:m.nextLoc,direction:xs[(xs.indexOf(m.direction)+1)%4]}})},A=(m,w)=>{var x;(x=r.grid[m][w])!=null&&x.letter||s(I=>{var Z,se,ve,Se;const P=!!((Z=I.grid[m][w-1])!=null&&Z.id),L=!!((se=I.grid[m-1][w])!=null&&se.id),V=!!((ve=I.grid[m][w+1])!=null&&ve.id),j=!!((Se=I.grid[m+1][w])!=null&&Se.id);let z;return P?z="RIGHT":L?z="BOTTOM":j?z="TOP":V?z="LEFT":z="RIGHT",{...I,nextLoc:{row:m,col:w},prevLoc:{row:m,col:w},direction:z}})},[M,D]=l.useState(null);l.useState(null);const C=m=>{console.log("gridTileDragStart",i),D(Number(m.active.id)),o(!0)};l.useEffect(()=>{a&&setTimeout(()=>{u(!1)},300)},[a]);const T=(m,w)=>{u(!0),m&&(w?b(m.id,r.nextLoc,!0):(y(m.id),m!=null&&m.xState&&p(x=>[...x,{...m,xState:!1}])))},N=m=>{var j;const{active:w,over:x}=m;o(!1),console.log("handleTileDrop draggedTileID",M);const I=S.find(z=>z.id==M),P=r.grid.flat().find(z=>(z==null?void 0:z.id)==M);if(!I&&!P){console.log("not found in LL or grid");return}if(!x)return;const L=Math.floor(Number(x.id)/e),V=Math.floor(Number(x.id)%e);if(console.log("dropping at",L,V),console.log("over.id",x.id),x.id>=1e4||(j=m.collisions)!=null&&j.some(z=>z.id>=1e4)){console.log("missed empty tile");return}I?b(I.id,{row:L,col:V},!0):P&&b(P.id,{row:L,col:V},!1),console.log(r.grid)};function O({id:m,t:w}){const{setNodeRef:x}=Fn({id:m});return B("div",{ref:x,className:"size-10 m-0.5 text-center flex flex-col items-center justify-center",children:w?l.createElement($s,{...w,onGridTile:!1,key:m}):null})}function K({id:m}){const{setNodeRef:w}=Fn({id:m});return B("div",{className:"w-full h-full",id:"bottomPanel",children:Ke("div",{className:"flex flex-row h-full p-3 z-50",ref:w,children:[B("div",{className:"flex flex-row flex-wrap w-[90%]",children:S.map((x,I)=>B("div",{onClick:()=>T(x,!0),children:B(O,{id:m*I,t:x},I)},I))}),Ke("div",{className:"flex flex-col justify-center",children:[B("button",{className:"size-9",onClick:R,children:B("div",{className:"flex justify-center items-center border-2 border-black rounded-badge size-7 m-auto",children:B(Ki,{size:"16px"})})}),B("button",{className:"size-9",onClick:_,children:B(qi,{className:"m-auto",size:"34px"})})]})]})})}return co(ao(nr,{activationConstraint:{distance:1}})),Ke("div",{className:"overflow-hidden",children:[Ke(ua,{onDragStart:C,onDragEnd:N,collisionDetection:As,children:[B(Zl,{grid:r,onEmptyTileClick:A,tileDragStart:i,onTileDrop:()=>{}}),B(K,{id:1e4}),B("div",{children:`dragStart: ${eu}`})]}),B("div",{className:"font-black",children:`${a}`})]})}export{ou as default};
