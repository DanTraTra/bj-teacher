import{r as c,j as a,a as $,R as eo,F as ze,c as ge,d as oo,u as Re}from"./index-77424daa.js";import{s as D}from"./supabaseClient-cdc87467.js";import{B as $e}from"./index-b0be16e0.js";import"./iconBase-e9d63d4e.js";const ro=({onJoin:o,onCreate:s})=>{const[l,g]=c.useState(""),[w,y]=c.useState("normal"),[f,x]=c.useState(2);return a("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:$("div",{className:"bg-white rounded-lg shadow-lg px-8 pt-8 pb-6 w-full max-w-md flex flex-col items-center",children:[a("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Join or Create a Game"}),a("input",{type:"text",placeholder:"Enter Game ID...",value:l,onChange:d=>g(d.target.value),className:"border border-gray-300 rounded px-4 py-2 mb-2 w-full text-center focus:outline-none focus:ring-2 focus:ring-playerOne"}),$("div",{className:"flex flex-col w-full gap-2",children:[a("button",{onClick:()=>o(l),className:"bg-playerOne hover:bg-playerOne text-gray-800 font-semibold py-2 rounded transition",disabled:!l.trim(),children:"Join Game"}),$("div",{className:"flex items-center justify-center my-4",children:[a("div",{className:"flex-1 h-px bg-gray-200"}),a("span",{className:"text-gray-500 text-xs px-3",children:"or"}),a("div",{className:"flex-1 h-px bg-gray-200"})]}),a("button",{onClick:()=>s(w,f),className:"bg-playerTwo hover:bg-playerTwo text-gray-800 font-semibold py-2 rounded transition",children:"Create New Game"}),$("div",{className:"flex gap-3 mb-3",children:[a("div",{className:"flex-1",children:$("select",{value:w,onChange:d=>y(d.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-playerTwo",children:[a("option",{value:"easy",children:"Easy"}),a("option",{value:"normal",children:"Normal"})]})}),a("div",{className:"flex-1",children:$("select",{value:f,onChange:d=>x(Number(d.target.value)),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-playerTwo",children:[a("option",{value:2,children:"2 Players"}),a("option",{value:3,children:"3 Players"}),a("option",{value:4,children:"4 Players"}),a("option",{value:5,children:"5 Players"}),a("option",{value:6,children:"6 Players"})]})})]})]})]})})},je=({frontContent:o,backContent:s,beginsFlipped:l=!1,cellSize:g="",frontClassName:w="",backClassName:y="",clueCell:f=!1,correctCard:x,onContentEdit:d,isFlipped:C,handleCardFlip:h,rowIndex:G,colIndex:v,resetFlippedCardState:P,setViewingClue:J,highlightClass:ae})=>{const[L,H]=c.useState(""),[K,Y]=c.useState(54);c.useState("");const[se,q]=c.useState(54),I=c.useRef(null),F=c.useRef(null),k=c.useRef(null),u=c.useRef(null),j=()=>{if(I.current&&k.current){const m=I.current,b=k.current;let S=54;m.style.fontSize=`${S}px`;const ie=b.clientWidth-18;if(typeof o.content=="string"&&!o.content.match("^[A-E][1-5]$")){for(;m.scrollWidth>ie&&S>8;)S-=2,m.style.fontSize=`${S}px`;Y(S)}else m.style.fontSize=`${b.clientHeight*.5}px`,Y(b.clientHeight*.5)}},z=()=>{if(F.current&&u.current){const m=F.current,b=u.current;let S=54;m.style.fontSize=`${S}px`;const ie=b.clientWidth-20;for(;m.scrollWidth>ie&&S>8;)S-=2,m.style.fontSize=`${S}px`;q(S)}};c.useEffect(()=>{const m=requestAnimationFrame(()=>{j()});return()=>cancelAnimationFrame(m)},[o]),c.useEffect(()=>{const m=requestAnimationFrame(()=>{z()});return()=>cancelAnimationFrame(m)},[s]),c.useEffect(()=>{k.current&&I.current&&j()},[k.current,I.current]),c.useEffect(()=>{u.current&&F.current&&z()},[u.current,F.current]),c.useEffect(()=>{const m=k.current;if(!m)return;const b=new ResizeObserver(()=>{requestAnimationFrame(()=>{j()})});return b.observe(m),()=>{b.disconnect()}},[k.current]),c.useEffect(()=>{const m=u.current;if(!m)return;const b=new ResizeObserver(()=>{requestAnimationFrame(()=>{z()})});return b.observe(m),()=>{b.disconnect()}},[u.current]);const A=`flip-cross-clues-card 
        aspect-square flex items-center justify-center
        overflow-hidden text-center border border-4
        cursor-pointer`,R="border-[#10563F]",T="border-[#C44104]",U="border-[#F37332]",E=()=>{h(G,v,f),f||setTimeout(()=>{H(x==="correct"?R:x==="incorrect"?T:x==="close"?U:"")},1)};return a("div",{className:`${A} ${C?`flipped ${f?"":L}`:`${ae}`}`,onClick:o.content!="?"&&f?void 0:()=>E(),style:{maxWidth:g,maxHeight:g},children:$("div",{className:"flip-cross-clues-card-inner",children:[a("div",{className:`flip-cross-clues-card-front flex items-center justify-center ${w}`,children:a("div",{ref:k,className:"w-full h-full flex items-center justify-center p-2",children:a("span",{ref:I,style:{fontSize:`${K}px`},className:`
                                    ${w}
                                    w-[95%]
                                    whitespace-nowrap
                                    text-center
                                    overflow-hidden
                                    font-bold
                                `,children:o.content})})}),a("div",{className:`flip-cross-clues-card-back bg-white flex items-center justify-center ${y}`,children:a("div",{ref:u,className:"w-full h-full flex items-center justify-center p-2",children:a("span",{ref:F,style:{fontSize:`${se}px`},className:"font-bold",children:s})})})]})})},to=({rowHeaders:o,colHeaders:s,className:l="",style:g={},cellSize:w="",givenRandomCO:y,otherPlayersRandomCO:f,numRows:x,numCols:d,clueCellContent:C,handleClueCellEdit:h,completedCards:G=[],flippedCard:v,resetFlippedCardState:P,frontCellContent:J,correctlyGuessedGrid:ae,handleCardFlip:L,setViewingClue:H,viewingClue:K,handleHeaderClick:Y,cellColour:se,recentlyFlippedCardsNColours:q})=>{(o.length!==x||s.length!==d)&&(console.warn(`GridComponent mismatch: Expected ${x} row headers and ${d} column headers, but received ${o.length} and ${s.length}. Rendering truncated/padded grid.`),o=[...o,...Array(x).fill("")].slice(0,x),s=[...s,...Array(d).fill("")].slice(0,d));const I=(k,u,j=!1,z)=>{const A=`flip-cross-clues-card 
      aspect-square flex items-center justify-center
      overflow-hidden text-center text-7xl text-gray-100 hover:text-gray-500 border border-gray-100 border-4`,R=j?"bg-gray-100 font-semibold":"bg-white",T="max-w-full max-h-full object-contain flex items-center justify-center";return a("div",{className:`${A} ${R}`,style:{maxWidth:w,maxHeight:w},onClick:()=>{Y(k,z)},children:a("div",{className:T,children:k})},u)},F=Array.from({length:d},(k,u)=>String.fromCharCode(65+u));return $("div",{className:`grid gap-0 ${l}`,style:{width:"fit-content",gridTemplateColumns:`repeat(${d+1}, 1fr)`,...g},children:[a(je,{frontContent:{content:" ",color:"white"},backContent:"",beginsFlipped:!1,cellSize:w,frontClassName:"text-gray-500 bg-gray",backClassName:"text-gray-500",clueCell:!0,isFlipped:(v==null?void 0:v.rowIndex)===100&&(v==null?void 0:v.colIndex)===100,handleCardFlip:()=>{},rowIndex:100,colIndex:100,resetFlippedCardState:P,setViewingClue:H,highlightClass:"border-gray-100"}),s.map((k,u)=>I(k,`col-header-${u}`,!0,`${String.fromCharCode(65+u)}`)),J.map((k,u)=>$(eo.Fragment,{children:[I(o[u],`row-header-${u}`,!0,`${u+1}`),k.map((j,z)=>{const A=K&&j.content===`${F[y.colIndex]}${y.rowIndex+1}`;let R=A?"text-gray-500":"text-gray-200";if(ae[u][z])R=`text-gray-800 bg-${j.color}`;else{const E=q.find(m=>{var b,S;return m&&((b=m.CO)==null?void 0:b.colIndex)==z&&((S=m.CO)==null?void 0:S.rowIndex)==u});E?R=`text-${E.colour} bg-white`:R=`${R} bg-white`}let T="border-gray-100";if(A)T="border-gray-500";else{const E=q.find(m=>{var b,S;return m&&((b=m.CO)==null?void 0:b.colIndex)==z&&((S=m.CO)==null?void 0:S.rowIndex)==u});E&&(T=`border-${E.colour}`)}const U=f.some(E=>E.rowIndex==u&&E.colIndex==z)?"correct":"incorrect";return a(je,{frontContent:j,backContent:U=="correct"?"✓":"✗",beginsFlipped:!1,cellSize:w,frontClassName:`${R}`,backClassName:U=="correct"?"text-correct":"text-wrong",clueCell:!1,correctCard:U,isFlipped:(v==null?void 0:v.rowIndex)===u&&(v==null?void 0:v.colIndex)===z,handleCardFlip:L,rowIndex:u,colIndex:z,resetFlippedCardState:P,setViewingClue:H,highlightClass:T},`cell-${z}-${u}`)})]},`row-${u}`))]})},ao=({rowHeaders:o,colHeaders:s,className:l="",cellSize:g=""})=>{(o.length!==5||s.length!==5)&&(console.warn(`GridComponent mismatch: Expected 5 row headers and 5 column headers, but received ${o.length} and ${s.length}. Rendering truncated/padded grid.`),o=[...o,...Array(5).fill("")].slice(0,5),s=[...s,...Array(5).fill("")].slice(0,5));const f=(C,h,G=!1)=>{const v=`
      aspect-square flex items-center justify-center
      overflow-hidden p-1 text-center ${g}
    `,P=G?"bg-gray-100 font-semibold":"bg-white",J="max-w-full max-h-full object-contain flex items-center justify-center";return a("div",{className:`${v} ${P}`,children:a("div",{className:J,children:C})},h)},x=(C,h,G=!1)=>{const v=`flex items-center justify-center
       p-1 text-center bg-white border border-gray-100 border-4 rounded-2xl font-bold text-gray-500
      ${G?"md:rounded-b max-md:rounded-r":"md:rounded-t max-md:rounded-l"}`,P="max-w-full max-h-full object-contain flex items-center justify-center";return a("div",{className:`${v}`,children:a("div",{className:P,children:C})},h)},d=Array.from({length:5},(C,h)=>String.fromCharCode(65+h));return a(ze,{children:$("div",{className:`grid md:grid-cols-5 max-md:grid-rows-5 max-md:grid-flow-col gap-0 border border-gray-100 ${l}`,style:{width:"fit-content"},children:[s.map((C,h)=>x(`${d[h]}`,`col-header-${h}`,!0)),s.map((C,h)=>f(C,`col-header-${h}`,!0)),o.map((C,h)=>f(C,`col-header-${h}`,!0)),s.map((C,h)=>x(`${h+1}`,`row-header-${h}`,!1))]})})};var te={},Ge={};(function(o){var s=ge&&ge.__values||function(g){var w=typeof Symbol=="function"&&Symbol.iterator,y=w&&g[w],f=0;if(y)return y.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&f>=g.length&&(g=void 0),{value:g&&g[f++],done:!g}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0}),o.getWordsByCategory=o.wordList=void 0,o.wordList={noun:[{word:"accountant",categories:["profession"]},{word:"ability",categories:["thing"]},{word:"accident",categories:["thing"]},{word:"account",categories:["thing"]},{word:"action",categories:["thing"]},{word:"activity",categories:["thing"]},{word:"actor",categories:["profession"]},{word:"ad",categories:["media"]},{word:"addition",categories:["thing"]},{word:"address",categories:["thing"]},{word:"adult",categories:["people"]},{word:"advantage",categories:["thing"]},{word:"advertisement",categories:["media"]},{word:"afternoon",categories:["time"]},{word:"agency",categories:["thing"]},{word:"agent",categories:["people"]},{word:"air",categories:["thing"]},{word:"airline",categories:["transportation"]},{word:"airplane",categories:["transportation"]},{word:"airport",categories:["transportation","place"]},{word:"alarm",categories:["thing"]},{word:"alligator",categories:["animals"]},{word:"ambulance",categories:["health"]},{word:"analyst",categories:["profession"]},{word:"angle",categories:["thing"]},{word:"animal",categories:["animals"]},{word:"answer",categories:["thing"]},{word:"apartment",categories:["place"]},{word:"apple",categories:["food"]},{word:"application",categories:["thing"]},{word:"appointment",categories:["thing"]},{word:"architect",categories:["profession"]},{word:"argument",categories:["thing"]},{word:"area",categories:["thing"]},{word:"arm",categories:["thing"]},{word:"army",categories:["thing"]},{word:"art",categories:["thing"]},{word:"article",categories:["thing"]},{word:"artist",categories:["profession"]},{word:"australia",categories:["place"]},{word:"author",categories:["profession"]},{word:"autumn",categories:["time"]},{word:"baby",categories:["people","family"]},{word:"baker",categories:["profession"]},{word:"balloon",categories:["thing"]},{word:"banana",categories:["food"]},{word:"barista",categories:["profession"]},{word:"battery",categories:["thing"]},{word:"beach",categories:["place"]},{word:"bear",categories:["animals"]},{word:"beard",categories:["thing"]},{word:"bed",categories:["thing"]},{word:"belgium",categories:["place"]},{word:"bird",categories:["animals"]},{word:"bit",categories:["thing","technology"]},{word:"book",categories:["thing","education"]},{word:"boots",categories:["thing"]},{word:"boy",categories:["people"]},{word:"branch",categories:["thing"]},{word:"breakfast",categories:["thing"]},{word:"brother",categories:["family"]},{word:"businessperson",categories:["people","business"]},{word:"butcher",categories:["profession"]},{word:"byte",categories:["thing","technology"]},{word:"camera",categories:["thing"]},{word:"candle",categories:["thing"]},{word:"car",categories:["transportation"]},{word:"caravan",categories:["transportation"]},{word:"carpenter",categories:["profession"]},{word:"carpet",categories:["thing"]},{word:"cartoon",categories:["media"]},{word:"cat",categories:["animals"]},{word:"chef",categories:["profession"]},{word:"child",categories:["people","family"]},{word:"china",categories:["place"]},{word:"church",categories:["religion"]},{word:"city",categories:["place"]},{word:"coat",categories:["thing"]},{word:"coffeeshop",categories:["place"]},{word:"computer",categories:["thing","technology"]},{word:"continent",categories:["place"]},{word:"controller",categories:["thing","technology"]},{word:"country",categories:["place"]},{word:"cpu",categories:["thing","technology"]},{word:"crayon",categories:["thing"]},{word:"cricket",categories:["animals"]},{word:"crowd",categories:["people"]},{word:"daughter",categories:["family"]},{word:"dawn",categories:["time"]},{word:"daybreak",categories:["time"]},{word:"death",categories:["thing"]},{word:"denmark",categories:["place"]},{word:"dentist",categories:["profession"]},{word:"diamond",categories:["thing"]},{word:"dinner",categories:["food"]},{word:"disease",categories:["thing"]},{word:"doctor",categories:["profession"]},{word:"dog",categories:["animals"]},{word:"dream",categories:["thing"]},{word:"dress",categories:["thing"]},{word:"dusk",categories:["time"]},{word:"easter",categories:["religion"]},{word:"egg",categories:["food"]},{word:"eggplant",categories:["food"]},{word:"egypt",categories:["place"]},{word:"electrician",categories:["profession"]},{word:"elephant",categories:["animals"]},{word:"energy",categories:["thing"]},{word:"engine",categories:["transportation"]},{word:"engineer",categories:["profession"]},{word:"england",categories:["place"]},{word:"eve",categories:["time"]},{word:"evening",categories:["time"]},{word:"eventide",categories:["time"]},{word:"exabyte",categories:["thing","technology"]},{word:"eye",categories:["thing"]},{word:"fall",categories:["time"]},{word:"family",categories:["family"]},{word:"farmer",categories:["profession"]},{word:"father",categories:["people","family"]},{word:"finland",categories:["place"]},{word:"fireman",categories:["profession"]},{word:"fish",categories:["animals"]},{word:"flag",categories:["thing"]},{word:"florist",categories:["profession"]},{word:"flower",categories:["thing"]},{word:"football",categories:["sports"]},{word:"forest",categories:["place"]},{word:"fountain",categories:["thing"]},{word:"france",categories:["place"]},{word:"furniture",categories:["thing"]},{word:"garage",categories:["place"]},{word:"garden",categories:["food"]},{word:"gas",categories:["transportation"]},{word:"ghost",categories:["thing"]},{word:"gigabyte",categories:["thing","technology"]},{word:"girl",categories:["people"]},{word:"glass",categories:["thing"]},{word:"gold",categories:["thing"]},{word:"gpu",categories:["thing","technology"]},{word:"grandmother",categories:["people","family"]},{word:"grass",categories:["thing"]},{word:"greece",categories:["place"]},{word:"guitar",categories:["thing"]},{word:"hair",categories:["thing"]},{word:"hairdresser",categories:["profession"]},{word:"hamburger",categories:["food"]},{word:"helicopter",categories:["transportation"]},{word:"helmet",categories:["thing"]},{word:"holiday",categories:["thing"]},{word:"honey",categories:["food"]},{word:"horse",categories:["animals"]},{word:"hospital",categories:["place"]},{word:"house",categories:["place"]},{word:"hydrogen",categories:["science"]},{word:"ice",categories:["science"]},{word:"insect",categories:["animals"]},{word:"insurance",categories:["thing"]},{word:"intern",categories:["profession"]},{word:"iron",categories:["science"]},{word:"island",categories:["place"]},{word:"jackal",categories:["animals"]},{word:"jelly",categories:["food"]},{word:"jewellery",categories:["thing"]},{word:"jordan",categories:["place"]},{word:"journalist",categories:["profession"]},{word:"joystick",categories:["thing","technology"]},{word:"judge",categories:["profession"]},{word:"juice",categories:["food"]},{word:"kangaroo",categories:["animals"]},{word:"keyboard",categories:["thing","technology"]},{word:"kilobyte",categories:["thing","technology"]},{word:"king",categories:["people"]},{word:"kitchen",categories:["place"]},{word:"kite",categories:["thing"]},{word:"knife",categories:["thing"]},{word:"lamp",categories:["thing"]},{word:"laptop",categories:["thing","technology"]},{word:"lawyer",categories:["profession"]},{word:"leather",categories:["thing"]},{word:"librarian",categories:["profession"]},{word:"library",categories:["place"]},{word:"lifeguard",categories:["profession"]},{word:"lighter",categories:["thing"]},{word:"lion",categories:["animals"]},{word:"lizard",categories:["animals"]},{word:"lock",categories:["thing"]},{word:"london",categories:["place"]},{word:"lunch",categories:["food"]},{word:"machine",categories:["science"]},{word:"magazine",categories:["media"]},{word:"magician",categories:["people"]},{word:"man",categories:["people"]},{word:"manchester",categories:["place"]},{word:"market",categories:["place"]},{word:"match",categories:["thing"]},{word:"mechanic",categories:["profession"]},{word:"megabyte",categories:["thing","technology"]},{word:"memory",categories:["thing","technology"]},{word:"microphone",categories:["thing"]},{word:"midnight",categories:["time"]},{word:"minister",categories:["people","religion"]},{word:"monitor",categories:["thing","technology"]},{word:"monkey",categories:["animals"]},{word:"morn",categories:["time"]},{word:"morning",categories:["time"]},{word:"mother",categories:["people","family"]},{word:"motherboard",categories:["thing","technology"]},{word:"motorcycle",categories:["transportation"]},{word:"mouse",categories:["thing","technology","animals"]},{word:"musician",categories:["profession"]},{word:"nail",categories:["thing"]},{word:"napkin",categories:["thing"]},{word:"needle",categories:["thing"]},{word:"nest",categories:["thing"]},{word:"nigeria",categories:["place"]},{word:"night",categories:["time"]},{word:"nightfall",categories:["time"]},{word:"noon",categories:["time"]},{word:"notebook",categories:["thing"]},{word:"nurse",categories:["profession"]},{word:"ocean",categories:["place"]},{word:"oil",categories:["thing"]},{word:"optician",categories:["profession"]},{word:"orange",categories:["food"]},{word:"oxygen",categories:["science"]},{word:"oyster",categories:["animals"]},{word:"pager",categories:["thing","technology"]},{word:"painter",categories:["profession"]},{word:"painting",categories:["media"]},{word:"park",categories:["place"]},{word:"parrot",categories:["animals"]},{word:"pencil",categories:["thing","education"]},{word:"petabyte",categories:["thing","technology"]},{word:"pharmacist",categories:["profession"]},{word:"photographer",categories:["profession"]},{word:"piano",categories:["thing"]},{word:"pillow",categories:["thing"]},{word:"pilot",categories:["profession"]},{word:"pizza",categories:["food"]},{word:"planet",categories:["science"]},{word:"plastic",categories:["thing"]},{word:"plumber",categories:["profession"]},{word:"policeman",categories:["profession"]},{word:"portugal",categories:["place"]},{word:"postman",categories:["profession"]},{word:"potato",categories:["food"]},{word:"printer",categories:["thing","technology"]},{word:"processor",categories:["thing","technology"]},{word:"psychiatrist",categories:["profession"]},{word:"queen",categories:["people"]},{word:"quill",categories:["thing"]},{word:"rain",categories:["thing"]},{word:"rainbow",categories:["science"]},{word:"raincoat",categories:["thing"]},{word:"ram",categories:["thing","technology"]},{word:"receptionist",categories:["profession"]},{word:"refrigerator",categories:["food"]},{word:"restaurant",categories:["place"]},{word:"river",categories:["thing"]},{word:"rocket",categories:["science"]},{word:"room",categories:["place"]},{word:"rose",categories:["thing"]},{word:"russia",categories:["place"]},{word:"salesclerk",categories:["people","business"]},{word:"salesmen",categories:["profession"]},{word:"sandwich",categories:["food"]},{word:"school",categories:["education"]},{word:"scientist",categories:["profession"]},{word:"scooter",categories:["transportation"]},{word:"secretary",categories:["profession"]},{word:"shampoo",categories:["thing"]},{word:"shoe",categories:["thing"]},{word:"smartphone",categories:["thing","technology"]},{word:"soccer",categories:["sports"]},{word:"solstice",categories:["time"]},{word:"spoon",categories:["thing"]},{word:"spring",categories:["time"]},{word:"state",categories:["place"]},{word:"stone",categories:["thing"]},{word:"student",categories:["people","education"]},{word:"sugar",categories:["food"]},{word:"summer",categories:["time"]},{word:"sundown",categories:["time"]},{word:"sunset",categories:["time"]},{word:"sweden",categories:["place"]},{word:"table",categories:["thing"]},{word:"tailor",categories:["profession"]},{word:"teacher",categories:["people","education","profession"]},{word:"teenager",categories:["people","family"]},{word:"telephone",categories:["thing"]},{word:"television",categories:["media"]},{word:"tent",categories:["thing"]},{word:"terabyte",categories:["thing","technology"]},{word:"thailand",categories:["place"]},{word:"tiger",categories:["animals"]},{word:"toddler",categories:["people","family"]},{word:"tomato",categories:["food"]},{word:"toothbrush",categories:["thing"]},{word:"traffic",categories:["thing"]},{word:"train",categories:["transportation"]},{word:"translator",categories:["profession"]},{word:"truck",categories:["thing","transportation"]},{word:"twilight",categories:["time"]},{word:"uganda",categories:["place"]},{word:"umbrella",categories:["thing"]},{word:"van",categories:["transportation"]},{word:"vase",categories:["thing"]},{word:"vegetable",categories:["food"]},{word:"vr",categories:["thing","technology"]},{word:"vulture",categories:["animals"]},{word:"waiter",categories:["profession"]},{word:"waitress",categories:["profession"]},{word:"wall",categories:["thing"]},{word:"whale",categories:["animals"]},{word:"window",categories:["thing"]},{word:"winter",categories:["time"]},{word:"wire",categories:["thing"]},{word:"wolf",categories:["animals"]},{word:"woman",categories:["people"]},{word:"xylophone",categories:["thing"]},{word:"yacht",categories:["transportation"]},{word:"yak",categories:["animals"]},{word:"yottabyte",categories:["thing","technology"]},{word:"zebra",categories:["animals"]},{word:"zettabyte",categories:["thing","technology"]},{word:"zoo",categories:["animals"]}],adjective:[{word:"abandoned",categories:["condition"]},{word:"abiding",categories:["personality"]},{word:"able",categories:["condition"]},{word:"abrasive",categories:["condition","personality"]},{word:"abnormal",categories:["condition"]},{word:"absurd",categories:["condition"]},{word:"abundant",categories:["quantity"]},{word:"acceptable",categories:["condition"]},{word:"acidic",categories:["taste"]},{word:"acoustic",categories:["sounds"]},{word:"acrid",categories:["condition"]},{word:"adamant",categories:["personality"]},{word:"adorable",categories:["personality"]},{word:"adventurous",categories:["personality"]},{word:"aggressive",categories:["personality"]},{word:"agitated",categories:["personality"]},{word:"agreeable",categories:["personality"]},{word:"alert",categories:["condition"]},{word:"alive",categories:["condition"]},{word:"aloof",categories:["personality"]},{word:"ambitious",categories:["personality"]},{word:"ancient",categories:["time"]},{word:"angry",categories:["personality"]},{word:"annoyed",categories:["personality"]},{word:"antsy",categories:["personality"]},{word:"anxious",categories:["personality"]},{word:"appalling",categories:["personality"]},{word:"appetizing",categories:["taste"]},{word:"apprehensive",categories:["personality"]},{word:"arrogant",categories:["personality"]},{word:"ashamed",categories:["personality"]},{word:"astonishing",categories:["personality"]},{word:"attractive",categories:["appearance"]},{word:"average",categories:["appearance"]},{word:"bad",categories:["condition"]},{word:"bald",categories:["appearance"]},{word:"bashful",categories:["personality"]},{word:"beautiful",categories:["appearance"]},{word:"beefy",categories:["appearance"]},{word:"belligerent",categories:["personality"]},{word:"bent",categories:["condition"]},{word:"best",categories:["condition"]},{word:"better",categories:["condition"]},{word:"bewildered",categories:["personality"]},{word:"big",categories:["size"]},{word:"billions",categories:["quantity"]},{word:"billowy",categories:["appearance"]},{word:"bitter",categories:["taste"]},{word:"black",categories:["color"]},{word:"bland",categories:["taste"]},{word:"blue",categories:["color"]},{word:"blushing",categories:["appearance"]},{word:"bored",categories:["personality"]},{word:"boring",categories:["personality"]},{word:"boundless",categories:["personality"]},{word:"brainy",categories:["personality"]},{word:"brash",categories:["personality"]},{word:"brave",categories:["personality"]},{word:"breezy",categories:["touch"]},{word:"brief",categories:["time"]},{word:"bright",categories:["appearance"]},{word:"broad",categories:["shapes"]},{word:"broken",categories:["condition"]},{word:"brown",categories:["color"]},{word:"bulky",categories:["appearance"]},{word:"bumpy",categories:["touch"]},{word:"burly",categories:["appearance"]},{word:"busy",categories:["personality"]},{word:"cagey",categories:["personality"]},{word:"calm",categories:["personality"]},{word:"callous",categories:["personality"]},{word:"careful",categories:["condition"]},{word:"chilly",categories:["touch"]},{word:"chubby",categories:["appearance"]},{word:"clean",categories:["appearance"]},{word:"clever",categories:["condition"]},{word:"clumsy",categories:["personality"]},{word:"cold",categories:["touch"]},{word:"colossal",categories:["size"]},{word:"cool",categories:["touch"]},{word:"crashing",categories:["sounds"]},{word:"creamy",categories:["taste"]},{word:"crooked",categories:["shapes"]},{word:"cuddly",categories:["touch"]},{word:"curved",categories:["shapes"]},{word:"damaged",categories:["touch"]},{word:"damp",categories:["touch"]},{word:"dazzling",categories:["appearance"]},{word:"dead",categories:["condition"]},{word:"deafening",categories:["sounds"]},{word:"deep",categories:["shapes"]},{word:"defeated",categories:["personality"]},{word:"delicious",categories:["taste"]},{word:"delightful",categories:["personality"]},{word:"dirty",categories:["touch"]},{word:"disgusting",categories:["taste"]},{word:"drab",categories:["appearance"]},{word:"dry",categories:["touch"]},{word:"eager",categories:["personality"]},{word:"early",categories:["time"]},{word:"easy",categories:["condition"]},{word:"echoing",categories:["sounds"]},{word:"elegant",categories:["appearance"]},{word:"embarrassed",categories:["personality"]},{word:"enough",categories:["quantity"]},{word:"faint",categories:["sounds"]},{word:"faithful",categories:["personality"]},{word:"famous",categories:["condition"]},{word:"fancy",categories:["appearance"]},{word:"fast",categories:["time"]},{word:"fat",categories:["size"]},{word:"few",categories:["quantity"]},{word:"fierce",categories:["personality"]},{word:"fit",categories:["appearance"]},{word:"flabby",categories:["appearance"]},{word:"flaky",categories:["touch"]},{word:"flat",categories:["shapes"]},{word:"fluffy",categories:["touch"]},{word:"freezing",categories:["touch"]},{word:"fresh",categories:["taste"]},{word:"full",categories:["quantity"]},{word:"future",categories:["time"]},{word:"gentle",categories:["personality"]},{word:"gifted",categories:["condition"]},{word:"gigantic",categories:["size"]},{word:"glamorous",categories:["appearance"]},{word:"gorgeous",categories:["appearance"]},{word:"gray",categories:["color"]},{word:"greasy",categories:["touch","taste"]},{word:"great",categories:["size"]},{word:"green",categories:["color"]},{word:"grumpy",categories:["personality"]},{word:"hallowed",categories:["condition"]},{word:"handsome",categories:["appearance"]},{word:"happy",categories:["personality"]},{word:"harsh",categories:["sounds"]},{word:"helpful",categories:["condition"]},{word:"helpless",categories:["personality"]},{word:"high",categories:["shapes"]},{word:"hissing",categories:["sounds"]},{word:"hollow",categories:["shapes"]},{word:"hot",categories:["touch","taste"]},{word:"howling",categories:["sounds"]},{word:"huge",categories:["size"]},{word:"hundreds",categories:["quantity"]},{word:"icy",categories:["touch"]},{word:"immense",categories:["size"]},{word:"important",categories:["condition"]},{word:"incalculable",categories:["quantity"]},{word:"inexpensive",categories:["condition"]},{word:"itchy",categories:["personality"]},{word:"jealous",categories:["personality"]},{word:"jolly",categories:["personality"]},{word:"juicy",categories:["taste"]},{word:"kind",categories:["personality"]},{word:"large",categories:["size"]},{word:"late",categories:["time"]},{word:"lazy",categories:["personality"]},{word:"lemon",categories:["color"]},{word:"limited",categories:["quantity"]},{word:"little",categories:["size","quantity"]},{word:"lively",categories:["personality"]},{word:"long",categories:["time","appearance"]},{word:"loose",categories:["touch"]},{word:"loud",categories:["sounds"]},{word:"low",categories:["shapes"]},{word:"magnificent",categories:["appearance"]},{word:"mammoth",categories:["size"]},{word:"mango",categories:["color"]},{word:"many",categories:["quantity"]},{word:"massive",categories:["size"]},{word:"mealy",categories:["condition"]},{word:"melodic",categories:["sounds"]},{word:"melted",categories:["touch"]},{word:"microscopic",categories:["size"]},{word:"millions",categories:["quantity"]},{word:"miniature",categories:["size"]},{word:"modern",categories:["time"]},{word:"moldy",categories:["taste"]},{word:"most",categories:["quantity"]},{word:"muscular",categories:["appearance"]},{word:"mushy",categories:["condition"]},{word:"mysterious",categories:["personality"]},{word:"narrow",categories:["shapes"]},{word:"nervous",categories:["personality"]},{word:"nice",categories:["personality"]},{word:"noisy",categories:["sounds"]},{word:"numerous",categories:["quantity"]},{word:"nutritious",categories:["taste"]},{word:"nutty",categories:["taste"]},{word:"obedient",categories:["personality"]},{word:"obnoxious",categories:["personality"]},{word:"odd",categories:["condition"]},{word:"old",categories:["time"]},{word:"orange",categories:["color"]},{word:"panicky",categories:["personality"]},{word:"petite",categories:["size"]},{word:"pitiful",categories:["personality"]},{word:"plain",categories:["appearance"]},{word:"plump",categories:["appearance"]},{word:"polite",categories:["personality"]},{word:"poor",categories:["condition"]},{word:"powerful",categories:["condition"]},{word:"prehistoric",categories:["time"]},{word:"prickly",categories:["touch"]},{word:"proud",categories:["personality"]},{word:"puny",categories:["size"]},{word:"purple",categories:["color"]},{word:"purring",categories:["sounds"]},{word:"putrid",categories:["taste"]},{word:"quaint",categories:["appearance"]},{word:"quick",categories:["time"]},{word:"quiet",categories:["sounds"]},{word:"rancid",categories:["taste"]},{word:"rapid",categories:["time"]},{word:"rapping",categories:["sounds"]},{word:"raspy",categories:["sounds"]},{word:"red",categories:["color"]},{word:"refined",categories:["shapes"]},{word:"repulsive",categories:["personality"]},{word:"rhythmic",categories:["sounds"]},{word:"rich",categories:["condition"]},{word:"ripe",categories:["taste"]},{word:"rotten",categories:["taste"]},{word:"rough",categories:["touch"]},{word:"round",categories:["shapes"]},{word:"salmon",categories:["color"]},{word:"salty",categories:["taste"]},{word:"savory",categories:["taste"]},{word:"scarce",categories:["quantity"]},{word:"scary",categories:["personality"]},{word:"scrawny",categories:["size"]},{word:"screeching",categories:["sounds"]},{word:"scruffy",categories:["appearance"]},{word:"shaggy",categories:["touch"]},{word:"shallow",categories:["shapes"]},{word:"shapely",categories:["appearance"]},{word:"sharp",categories:["touch"]},{word:"short",categories:["size","appearance","time"]},{word:"shrilling",categories:["sounds"]},{word:"shy",categories:["condition"]},{word:"silly",categories:["personality"]},{word:"skinny",categories:["appearance","shapes"]},{word:"slimy",categories:["touch"]},{word:"slow",categories:["time"]},{word:"small",categories:["size"]},{word:"some",categories:["quantity"]},{word:"sour",categories:["taste"]},{word:"sparse",categories:["quantity"]},{word:"spicy",categories:["taste"]},{word:"spoiled",categories:["taste"]},{word:"square",categories:["shapes"]},{word:"squeaking",categories:["sounds"]},{word:"stale",categories:["taste"]},{word:"steep",categories:["shapes"]},{word:"sticky",categories:["touch"]},{word:"stocky",categories:["appearance"]},{word:"straight",categories:["shapes"]},{word:"strong",categories:["touch"]},{word:"substantial",categories:["quantity"]},{word:"sweet",categories:["taste"]},{word:"swift",categories:["time"]},{word:"tall",categories:["size"]},{word:"tangy",categories:["taste"]},{word:"tart",categories:["taste"]},{word:"tasteless",categories:["taste"]},{word:"tasty",categories:["taste"]},{word:"teeny",categories:["size"]},{word:"tender",categories:["condition"]},{word:"thankful",categories:["personality"]},{word:"thoughtless",categories:["personality"]},{word:"thousands",categories:["quantity"]},{word:"thundering",categories:["sounds"]},{word:"tight",categories:["touch"]},{word:"tinkling",categories:["sounds"]},{word:"tiny",categories:["size"]},{word:"ugly",categories:["appearance"]},{word:"uneven",categories:["touch"]},{word:"unimportant",categories:["condition"]},{word:"uninterested",categories:["condition"]},{word:"unkempt",categories:["appearance"]},{word:"unsightly",categories:["appearance"]},{word:"uptight",categories:["personality"]},{word:"vast",categories:["condition"]},{word:"victorious",categories:["personality"]},{word:"wailing",categories:["sounds"]},{word:"warm",categories:["touch"]},{word:"weak",categories:["touch"]},{word:"wet",categories:["touch"]},{word:"whining",categories:["sounds"]},{word:"whispering",categories:["sounds"]},{word:"white",categories:["color"]},{word:"wide",categories:["shapes"]},{word:"witty",categories:["personality"]},{word:"wonderful",categories:["personality"]},{word:"wooden",categories:["touch"]},{word:"worried",categories:["personality"]},{word:"wrong",categories:["condition"]},{word:"yellow",categories:["color"]},{word:"young",categories:["time"]},{word:"yummy",categories:["taste"]},{word:"zealous",categories:["personality"]}]};function l(g,w){var y,f;w===void 0&&(w=[]);var x=new Set(w),d=[];try{for(var C=s(o.wordList[g]),h=C.next();!h.done;h=C.next()){var G=h.value;(w.length===0||G.categories.some(function(v){return x.has(v)}))&&d.push(G.word)}}catch(v){y={error:v}}finally{try{h&&!h.done&&(f=C.return)&&f.call(C)}finally{if(y)throw y.error}}return d}o.getWordsByCategory=l})(Ge);var we=ge&&ge.__assign||function(){return we=Object.assign||function(o){for(var s,l=1,g=arguments.length;l<g;l++){s=arguments[l];for(var w in s)Object.prototype.hasOwnProperty.call(s,w)&&(o[w]=s[w])}return o},we.apply(this,arguments)};Object.defineProperty(te,"__esModule",{value:!0});te.totalUniqueSlugs=Fe=te.generateSlug=void 0;var be=Ge,Pe=3;function so(o,s){for(var l=o||Pe,g={partsOfSpeech:Ie(l),categories:{},format:"kebab"},w=we(we({},g),s),y=[],f=0;f<l;f++){var x=w.partsOfSpeech[f],d=be.getWordsByCategory(w.partsOfSpeech[f],w.categories[x]),C=d[Math.floor(Math.random()*d.length)];y.push(C)}return io(y,w.format)}var Fe=te.generateSlug=so;function Ie(o){for(var s=[],l=0;l<o-1;l++)s.push("adjective");return s.push("noun"),s}function io(o,s){return s==="kebab"?o.join("-").toLowerCase():s==="camel"?o.map(function(l,g){return g===0?l.toLowerCase():l[0].toUpperCase()+l.slice(1).toLowerCase()}).join(""):s==="lower"?o.join(" ").toLowerCase():s==="sentence"?o.map(function(l,g){return g===0?l[0].toUpperCase()+l.slice(1).toLowerCase():l}).join(" "):o.map(function(l){return l[0].toUpperCase()+l.slice(1).toLowerCase()}).join(" ")}function no(o,s){for(var l,g,w=be.getWordsByCategory("adjective",(l=s==null?void 0:s.categories)===null||l===void 0?void 0:l.adjective).length,y=be.getWordsByCategory("noun",(g=s==null?void 0:s.categories)===null||g===void 0?void 0:g.noun).length,f={adjective:w,noun:y},x=o||Pe,d=(s==null?void 0:s.partsOfSpeech)||Ie(x),C=1,h=0;h<x;h++)C*=f[d[h]];return C}te.totalUniqueSlugs=no;const co=({playerNames:o,playerColours:s,onSelectPlayer:l})=>{const g=w=>({playerOne:"bg-playerOne hover:bg-playerOne",playerTwo:"bg-playerTwo hover:bg-playerTwo",playerThree:"bg-playerThree hover:bg-playerThree",playerFour:"bg-playerFour hover:bg-playerFour",playerFive:"bg-playerFive hover:bg-playerFive",playerSix:"bg-playerSix hover:bg-playerSix"})[w]||"bg-gray-200 hover:bg-gray-300";return a("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:$("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md flex flex-col items-center",children:[a("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Select your name"}),a("div",{className:"flex flex-row w-full gap-2",children:o.slice(1,o.length).map((w,y)=>a("button",{onClick:()=>l(y+1),className:`w-full ${g(s[y+1])} text-gray-500 font-semibold py-2 rounded transition`,children:w},y))})]})})},lo=async()=>{const{data:o,error:s}=await D.storage.from("image-link-images").list("",{limit:1e3});return s?(console.error("Error listing images from Supabase:",s.message),[]):((o==null?void 0:o.map(l=>D.storage.from("image-link-images").getPublicUrl(l.name).data.publicUrl))||[]).filter(Boolean)},Oe=async(o=10)=>(await lo()).sort(()=>.5-Math.random()).slice(0,o);function Ce(o,s){if(s<=0)throw new Error("number of columns must be greater than 0");const l=[];for(let g=0;g<o.length;g+=s)l.push(o.slice(g,g+s));return l}function go(o){return o.flat()}function ye(o,s){let l;Array.isArray(o[0])?l=o.flat():l=o;const g=l.map(w=>!w.content.match(`[A-${String.fromCharCode(65+s-1)}][1-9]`));return Ce(g,s)}const de="Hyperlink",wo=()=>{const{id:o}=oo(),s=Re();c.useState(!o);const[l,g]=c.useState(!1),[w,y]=c.useState(0),[f,x]=c.useState(0),[d,C]=c.useState(0),[h,G]=c.useState("View Card & Give Clue"),[v,P]=c.useState(!1),[J,ae]=c.useState(!0),[L,H]=c.useState([]),[K,Y]=c.useState([]),[se,q]=c.useState(null),[I,F]=c.useState(""),[k,u]=c.useState(null),[j,z]=c.useState([]),[A,R]=c.useState([[]]),[T,U]=c.useState([]),[E,m]=c.useState([]);c.useState(0);const[b,S]=c.useState("?"),[ie,ue]=c.useState(!1),[_,V]=c.useState("view"),[Z,uo]=c.useState(["","playerOne","playerTwo","playerThree","playerFour","playerFive","playerSix"]),[r,ee]=c.useState({imageUrls:[],randomCO:[{rowIndex:-1,colIndex:-1}],availiableRandomCo:[],clueCellContent:[],frontCellContent:[],completedCards:[],incorrectGuessCount:0,playerCount:2,playerNames:[null,null],numRows:0,numCols:0,recentlyFlippedCard:[null,null]}),[po,Ee]=c.useState([]),[ho,ve]=c.useState(!1),qe=async()=>{ve(!0);try{const t=await Oe(1e3);Ee(t),console.log(`Fetched ${t.length} Supabase images`)}catch(t){console.error("Error fetching Supabase images:",t)}finally{ve(!1)}},xe=async t=>{if(console.log("handleJoin"),t.trim()){const{data:e,error:i}=await D.from(de).select("state").eq("id",t.trim()).single();if(i||!e||!e.state){alert("Could not find game with that ID.");return}const n=e.state;R(ye(n.frontCellContent||[],n.numRows)),U(n.incorrectGuessCountP1||[0]),m(n.incorrectGuessCountP2||[0]),console.log("joining game, current state:",n),ee(n),s(`/image_link/${t.trim()}`)}},Ae=async(t,e)=>{console.log("handleCreate"),g(!0);let i=0;t==="easy"?i=3:t==="normal"&&(i=5),y(i),x(i);const n=await Oe(i*i);console.log("images",n),console.log("setRandomCO(Random1)");const p=[{rowIndex:-1,colIndex:-1}],N=Te(i,i);for(let B=1;B<=e;B++){const M=Math.floor(Math.random()*N.length);p.push(N[M]),N.splice(M,1)}const ce=Array.from({length:i},(B,M)=>Array.from({length:i},(fo,Ze)=>({content:`${String.fromCharCode(65+Ze)}${M+1}`,color:""}))).flat(),le=prompt("Enter your name"),oe=[];for(let B=2;B<=e;B++){const M=prompt(`Enter Player ${B}'s name`);if(!M||M.trim()===""){alert("Please enter a name for Player "+B);return}oe.push(M.trim())}const re=Fe(2);console.log("game_code",re);const X={imageUrls:n,randomCO:p,availiableRandomCo:N,clueCellContent:Array(e+1).fill("?"),frontCellContent:ce,completedCards:[],incorrectGuessCount:0,playerNames:[null,le,...oe],playerCount:e,numRows:i,numCols:i,recentlyFlippedCard:Array(e+1).fill(null)};ee(X),console.log("newState",X);const{data:fe,error:mo}=await D.from("Hyperlink").insert([{state:{...X},game_code:re}]).select("id").single();g(!1),fe&&fe.id?s(`/image_link/${fe.id}`):alert("Failed to create game. Please try again.")};function Te(t,e){const i=[];for(let n=0;n<t;n++)for(let p=0;p<e;p++)i.push({rowIndex:n,colIndex:p});for(let n=i.length-1;n>0;n--){const p=Math.floor(Math.random()*(n+1));[i[n],i[p]]=[i[p],i[n]]}return i}const _e=Array.from({length:f},(t,e)=>String.fromCharCode(65+e)),pe=()=>window.innerWidth<=window.innerHeight||"ontouchstart"in window&&window.innerWidth<=window.innerHeight?`${Math.min(100,100)}vw`:`${Math.min(80-Math.ceil(r.playerCount/2)*5,100)}vh`,We=()=>{if(r.imageUrls.length<r.numRows*2){console.log("No images available yet");return}const t=r.imageUrls.slice(0,r.numRows),e=r.imageUrls.slice(r.numRows,r.numRows*2);console.log("rowPaths",t),console.log("colPaths",e),console.log("correctlyGuessedGrid",A);const i=t.map((N,O)=>a("img",{src:N,alt:`row-${O}`,className:"w-full h-full object-contain grayscale"},`row-${O}`));H(i);const n=e.map((N,O)=>a("img",{src:N,alt:`col-${O}`,className:"w-full h-full object-contain grayscale"},`col-${O}`));Y(n);const p=[...i.map((N,O)=>({element:N,co:`${O+1}`})),...n.map((N,O)=>({element:N,co:`${String.fromCharCode(65+O)}`}))];z(p)};c.useEffect(()=>{o&&(xe(o),console.log(" joining game",r))},[]),c.useEffect(()=>{l&&qe()},[l]),c.useEffect(()=>{We()},[r.imageUrls]);const he=t=>{const e=[...r.clueCellContent];e[d]=t,ee({...r,clueCellContent:e}),console.log("handleClueCellEdit",t),me({...r,clueCellContent:e})},Be=c.useRef(!1);c.useEffect(()=>{if(!o)return;(async()=>{const{data:i,error:n}=await D.from(de).select("state").eq("id",o).single();if(i&&typeof i=="object"&&Object.keys(i).length>0&&"state"in i&&i.state){const p=i.state;R(ye(p.frontCellContent,p.numCols)),console.log("fetched gamestate. Setting state to",p),ee(p)}Be.current=!0})();const e=D.channel("realtime:game_"+o).on("postgres_changes",{event:"*",schema:"public",table:de,filter:`id=eq.${o}`},i=>{if(i.new&&typeof i.new=="object"&&Object.keys(i.new).length>0&&"state"in i.new&&i.new.state){const n=i.new.state;R(ye(n.frontCellContent,n.numCols)),ee(n)}}).subscribe();return()=>{D.removeChannel(e)}},[o]);const me=async t=>{const e={...t};console.log("updateGameState",e),await D.from(de).update({state:e}).eq("id",o)},[W,Q]=c.useState(null),Me=()=>{console.log("resetFlippedCardState",W),Q(null)},Se=(t,e,i)=>{if(r.clueCellContent.filter((n,p)=>p!==d).every(n=>n==="?")&&!i){const n=r.playerNames.filter((p,N)=>N!==d&&r.clueCellContent[N]==="?"&&p!==null);console.log("playersWithNoClues",n),alert(`${n.concat().join(", ")} needs to give a clue first! Go tell 'em!`)}else if(!(t===(W==null?void 0:W.rowIndex)&&e===(W==null?void 0:W.colIndex))){if(t===100&&e===100?(console.log("Setting viewingClue to true"),P(!0),ue(!0)):(Q({rowIndex:t,colIndex:e}),console.log("Setting viewingClue to false"),P(!1),ue(!1)),console.log("gameState.randomCO",r.randomCO.some(n=>n.rowIndex===t&&n.colIndex===e)&&(r.randomCO[d].rowIndex!==t||r.randomCO[d].colIndex!==e)),r.randomCO.filter((n,p)=>r.clueCellContent[p]!=="?").some(n=>n.rowIndex===t&&n.colIndex===e)&&(r.randomCO[d].rowIndex!==t||r.randomCO[d].colIndex!==e)){const n=r.randomCO.findIndex(N=>N.rowIndex===t&&N.colIndex===e);console.log("guessedClueBelongingToPlayer",n);const p=r.clueCellContent;G("View Card & Give Clue"),R(N=>{const O=[...N];return O[t][e]=!0,O}),setTimeout(()=>{console.log("User flipped the correct card"),Q(null),P(!1)},1e3),setTimeout(()=>{const O=[...Ce(r.frontCellContent,r.numCols)];O[t][e]={content:p[n],color:Z[n]};const ce=[...r.clueCellContent];ce[n]="?";const le=Math.floor(Math.random()*r.availiableRandomCo.length),oe=[...r.randomCO];oe[n]=r.availiableRandomCo[le];const re=[...r.availiableRandomCo];re.splice(le,1);const X={...r,clueCellContent:ce,randomCO:oe,availiableRandomCo:re,frontCellContent:go(O),completedCards:[...r.completedCards,`${_e[e]}${t+1}`],incorrectGuessCount:r.incorrectGuessCount};me(X),console.log("updatedGameState",X),S("?")},1500)}else if(!i){const n=[...r.recentlyFlippedCard];n[d]={CO:{rowIndex:t,colIndex:e},colour:Z[d]},me({...r,incorrectGuessCount:r.incorrectGuessCount+1,recentlyFlippedCard:n})}}};c.useEffect(()=>{r.clueCellContent[d]!=="?"?(V(null),G("guess the card")):V("view")},[r.clueCellContent]),c.useEffect(()=>{},[A]);const De=t=>{console.log("isViewingClue called with:",t),P(t)},Le=t=>{S(t.target.value)},ke=()=>{console.log("handleViewCard called",r),r.clueCellContent[d]==="?"&&(Se(100,100,!0),V("give"))},Ue=()=>{V("input"),P(!1),ue(!1),Q(null)},Ve=t=>{t.key==="Enter"&&(b.split(" ").length>=2?alert("Please enter a single word"):b!==""&&(he(b),S("?"),V("view"),Q(null),q(null),G("guess the card")))},Je=()=>{b.split(" ").length>=2?alert("Please enter a single word"):b!==""&&(he(b),S("?"),V("view"),Q(null))},He=()=>{V("input")},Ke=(t,e)=>{q(t),F(e);const i=j.findIndex(n=>n.element===t);u(i)},Ye=()=>{if(k!==null&&j.length>0){const t=(k-1+j.length)%j.length,e=j[t];q(e.element),F(e.co),u(t)}},Qe=()=>{if(k!==null&&j.length>0){const t=(k+1)%j.length,e=j[t];q(e.element),F(e.co),u(t)}},Xe=t=>{C(t),console.log("player on this device",t)};c.useEffect(()=>{console.log("buttonState",_)},[_]),c.useEffect(()=>{console.log("gameState updated",r)},[r]);const Ne="text-xs h-8 px-5 py-2 text-white rounded-sm bg-gray-500 font-semibold";if(!o)return a(ro,{onJoin:xe,onCreate:Ae});if(d===0)return a(co,{onSelectPlayer:Xe,playerNames:r.playerNames||["Player One","Player Two"],playerColours:Z});const ne=r.playerNames.filter((t,e)=>e!==d&&r.clueCellContent[e]==="?"&&t!==null);return $("div",{className:"flex flex-col h-full justify-center items-center pb-4",children:[$("div",{className:"relative flex flex-col flex-start max-h-[50vh]",onClick:()=>{q(null),F(""),u(null)},children:[" ",se," ",I&&a("div",{className:"absolute -bottom-8 left-0 text-[100px] p-4 text-black tracking-wide font-bold z-10 opacity-80",children:I}),k!==null&&$(ze,{children:[a("button",{onClick:t=>{t.stopPropagation(),Ye()},className:"absolute h-full w-12 text-center -left-12 top-1/2 transform -translate-y-1/2 bg-none bg-opacity-50 text-black p-2 z-20",children:"◀ "}),a("button",{onClick:t=>{t.stopPropagation(),Qe()},className:"absolute h-full w-12 text-center -right-12 top-1/2 transform -translate-y-1/2 bg-none bg-opacity-50 text-black p-2 z-20",children:"▶ "})]})]}),a("div",{className:"grid grid-cols-6 h-fit mb-3 px-1",style:{width:pe()},children:r.clueCellContent.slice(1,r.clueCellContent.length).map((t,e)=>{const i=r.clueCellContent.length-1,n=i===2?"col-span-3":i===3?"col-span-2":i===4?"col-span-3":i===5&&e<3?"col-span-2":i===5&&e>=3?"col-span-3":i===6&&e<4||i===6&&e>=4?"col-span-2":"";let p="";return i>=5||i===3?(e===0&&(p="rounded-tl-2xl"),e===2&&(p="rounded-tr-2xl")):(e===0&&(p="rounded-tl-2xl"),e===1&&(p="rounded-tr-2xl")),a("div",{className:`flex flex-col text-xs p-2 h-full justify-center items-center text-gray-800 bg-${Z[e+1]} ${n} ${p}`,children:$("div",{className:`flex flex-col text-center text-xs text-gray-800 ${e+1===d?"font-semibold":""}`,children:[t!="?"?e+1==d?"Your clue: ":r.playerNames[e+1]+"'s clue: ":e+1===d?$("div",{className:"flex flex-row items-center gap-2",children:[a("span",{children:"View card"}),a($e,{}),a("span",{children:"Give clue"})]}):r.playerNames[e+1]+" is thinking of a clue...",a("span",{className:"flex flex-col text-center text-2xl text-gray-800",children:t!="?"?r.clueCellContent[e+1]:""})]},e)},e)})}),r.clueCellContent[d]!="?"&&a("div",{className:"flex flex-col items-center justify-start"}),$("div",{className:"flex flex-col flex-start items-center space-y-1 pt-1 pb-3 overflow-y-auto w-fit",children:[a("div",{className:"h-full overflow-y-auto",children:J?L.length&&a(to,{rowHeaders:L,colHeaders:K,cellSize:"auto",className:"mx-auto",style:{width:pe(),height:pe(),aspectRatio:"1"},givenRandomCO:r.randomCO[d],otherPlayersRandomCO:r.randomCO.filter((t,e)=>e!=d&&r.clueCellContent[e]!=="?"),numRows:r.numRows,numCols:r.numCols,frontCellContent:Ce(r.frontCellContent,r.numCols),handleCardFlip:Se,clueCellContent:r.clueCellContent[d],handleClueCellEdit:he,flippedCard:W,resetFlippedCardState:Me,completedCards:r.completedCards,setViewingClue:De,viewingClue:v,correctlyGuessedGrid:A,handleHeaderClick:Ke,cellColour:Z[d],recentlyFlippedCardsNColours:r.recentlyFlippedCard.filter((t,e)=>e===d?null:t)}):a(ao,{rowHeaders:L,colHeaders:K,cellSize:"size-[150px]"})}),a("div",{className:"flex flex-row justify-start pb-1 w-full",children:Array.from({length:r.incorrectGuessCount}).map((t,e)=>a("div",{className:"h-1.5 w-full my-0.5 mx-1 bg-red-300"},e))}),a("div",{className:"w-full relative flex flex-row justify-end items-center space-x-2 pt-2 px-1",children:$("div",{className:"flex items-center space-x-2",children:[(_=="view"||_=="input")&&r.clueCellContent[d]=="?"&&a("button",{onClick:ke,className:Ne+(_=="view"?"animate-pulse":""),children:"View your card"}),_=="give"&&a("button",{onClick:Ue,className:Ne,children:"Give a clue for this card"}),_==="input"&&a("input",{type:"text",value:b==="?"?"":b,placeholder:`Give a clue for ${String.fromCharCode(65+r.randomCO[d].colIndex)}${r.randomCO[d].rowIndex+1}`,onChange:Le,onKeyDown:Ve,onBlur:Je,onFocus:He,className:`w-52 text-center text-sm px-2 py-1 placeholder:text-gray-500
                            focus:outline-none focus:ring-0 focus:border-gray-400 border-b-2 border-gray-400
                            bg-transparent border-t-0 border-l-0 border-r-0 h-8`,autoFocus:!0}),_=="input"&&a("button",{onClick:ke,className:"text-md h-8 p-2 bg-gray-400 font-semibold rounded-sm text-white",children:a($e,{})}),r.clueCellContent[d]!="?"&&$("span",{className:"text-sm text-gray-800",children:["Wait for ",ne.slice(0,ne.length-1).concat().join(", ")+" and "+ne.slice(ne.length-1).concat().join(", ")+" to give a clue..."]})]})})]})]})};function xo(){return Re(),a("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100",children:a(wo,{})})}export{xo as default};
